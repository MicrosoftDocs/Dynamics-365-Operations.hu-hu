---
title: Konfigurálja a Keresési adatforrásokat az ER-alkalmazásspecifikus paraméterek használatára
description: Ez a témakör azt mutatja be, hogyan lehet konfigurálni a Keresési adatforrásokat az Elektronikus jelentéskészítési (ER) formátumokban az ER alkalmazásspecifikus paraméterek használatához.
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 131d14f1f1aa329bd71b1f8a4015192736bd8e44
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 05/11/2021
ms.locfileid: "6022575"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="affb6-103">Konfigurálja a Keresési adatforrásokat az ER-alkalmazásspecifikus paraméterek használatára</span><span class="sxs-lookup"><span data-stu-id="affb6-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="affb6-104">Az [Elektronikus jelentéskészítési (ER)](general-electronic-reporting.md) alkalmazásspecifikus paraméterek funkcióval konfigurálhatja az adatszűrést egy ER formátumban, hogy az absztrakt szabályok egy csoportján alapuljon.</span><span class="sxs-lookup"><span data-stu-id="affb6-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="affb6-105">Ezek a szabályok beállíthatók úgy, hogy az ER formátumban elérhető, **Keresési** típusú adatforrásokat használják.</span><span class="sxs-lookup"><span data-stu-id="affb6-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="affb6-106">Ezután az ER-komponenstervezőkön túl valódi szabályokat is megadhat a felhasználói felület (UI) segítségével, amely a megfelelő ER formátum és az aktuális jogi személy adatainak **Keresési** adatforrásának beállításain alapulva automatikusan létrejön.</span><span class="sxs-lookup"><span data-stu-id="affb6-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="affb6-107">A megadott szabályokat végül az ER-formátum **Keresési** adatforrása érheti el az ER-formátum végrehajtásakor.</span><span class="sxs-lookup"><span data-stu-id="affb6-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="affb6-108">A szerkeszthető ER-formátum konfigurált adatforrásával adhatja meg, hogy mely alkalmazásadatok használatosak a valós szabályok konfigurálása során.</span><span class="sxs-lookup"><span data-stu-id="affb6-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="affb6-109">Az [ER-műveletek tervezője](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) segítségével hozzon az ER-formátumba egy **Keresési** típusú adatforrást.</span><span class="sxs-lookup"><span data-stu-id="affb6-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="affb6-110">Az adatforrást úgy kell konfigurálni, hogy leírja, hogyan néznek ki az absztrakt szabályok, többek között a következők:</span><span class="sxs-lookup"><span data-stu-id="affb6-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="affb6-111">Egy bizonyos adattípus paraméterkészlete, amelynek értéke meg van adva egyetlen szabály megadásához.</span><span class="sxs-lookup"><span data-stu-id="affb6-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="affb6-112">Bizonyos adattípusnak az az értéktípusa, amelyet egyetlen szabály ad vissza, ha a szabályt a rendszer a legmegfelelőbbnek tartja a többi közül.</span><span class="sxs-lookup"><span data-stu-id="affb6-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="affb6-113">Attól függően, hogy milyen típusú értékeket adott vissza egy konfigurált szabály, a következő típusú **Keresési** adatforrásokat lehet konfigurálni:</span><span class="sxs-lookup"><span data-stu-id="affb6-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="affb6-114">Használja az **Adatmodell\Keresési** típust olyankor, amikor vissza kell adni a modell enumerációs értékét.</span><span class="sxs-lookup"><span data-stu-id="affb6-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="affb6-115">Használja a **Dynamics 365 Operations\Keresési** típust, ha alkalmazás enumerációs értéket vagy egy alkalmazás [kiterjesztett adattípusának](../extensibility/extensible-edts.md) értékét kell visszaadni.</span><span class="sxs-lookup"><span data-stu-id="affb6-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="affb6-116">Használja a **Formátumok felsorolása\Keresési** típust olyankor, amikor vissza kell adni a modell enumerációs értékét.</span><span class="sxs-lookup"><span data-stu-id="affb6-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="affb6-117">Az alábbi ábra azt mutatja be, hogyan lehet konfigurálni egy formátumfelsorolást a minta ER-formátumban.</span><span class="sxs-lookup"><span data-stu-id="affb6-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Formátumfelsorolás megjelenítése a konfigurált keresési adatforrás alapjaként](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="affb6-119">Az alábbi ábra azokat a formátumösszetevőket mutatja be, amelyeket azért konfiguráltak, hogy a különböző adótípusokat a létrehozott jelentés különböző szakaszaiban jelentsék le.</span><span class="sxs-lookup"><span data-stu-id="affb6-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![A formátumszakaszok megjelenítése a különböző adótípusú adók elkülönített jelentéséhez](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="affb6-121">Az alábbi ábra azt mutatja be, hogyan teszi lehetővé az ER művelettervező a **Formátumok felsorolása\Keresési** típus adatforrások hozzáadását.</span><span class="sxs-lookup"><span data-stu-id="affb6-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="affb6-122">A hozzáadott adatforrás úgy van konfigurálva, hogy visszaadja a `List of taxation levels` formátumfelsorolás értékét.</span><span class="sxs-lookup"><span data-stu-id="affb6-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Egy Formátumok felsorolása\Keresési típus ER-adatforrás hozzáadása](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="affb6-124">A következő ábra bemutatja, hogy a hozzáadott adatforrás hogyan van beállítva arra, hogy a **Modell** adatforrás **Model.Data.Tax** rekordlista **Kód** mezőjét olyan paraméterként használja, amelyet minden konfigurált szabályhoz meg kell adni.</span><span class="sxs-lookup"><span data-stu-id="affb6-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![A Formátumok felsorolása\Keresési típusú hozzáadott adatforrás paramétereinek konfigurálása](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="affb6-126">A hozzáadott `Model.Data.Tax` adatforrás úgy van beállítva, hogy megadjon egy adókódot minden konfigurált szabályhoz a **TaxTable** alkalmazástábla rekordjainak elérésével.</span><span class="sxs-lookup"><span data-stu-id="affb6-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![A Formátumok felsorolása\Keresési típusú egy vállalatos keresési adatforrás áttekintése](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="affb6-128">A kiválasztott ER-formátum keresési szabályait a konfigurált adatforrás szerkezetéhez automatikusan igazodó felhasználói felület használatával lehet beállítani.</span><span class="sxs-lookup"><span data-stu-id="affb6-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="affb6-129">Ez a felhasználói felület jelenleg megköveteli, hogy minden szabálynál meg kell adni a visszaadott értéket `List of taxation levels` formátum felsorolási értékeként, valamint az adókódot paraméterként.</span><span class="sxs-lookup"><span data-stu-id="affb6-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Szabályok beállítása a konfigurált adatforráshoz](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="affb6-131">A következő ábra bemutatja, hogyan lehet beállítani a **Számított mezőtípus** `Model.Data.Summary.LevelByLookup` adatforrását úgy, hogy a szükséges paraméterekkel meg tudja hívni a konfigurált **Keresési** adatforrást.</span><span class="sxs-lookup"><span data-stu-id="affb6-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="affb6-132">A hívás futásidőben való feldolgozásához az ER végigfut a megadott sorrendben beállított szabályok listáján, és megkeresi az első szabályt, amely kielégíti a megadott feltételeket.</span><span class="sxs-lookup"><span data-stu-id="affb6-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="affb6-133">Ebben a példában ez a szabály tartalmazza a megadottnak megfelelő adókódot.</span><span class="sxs-lookup"><span data-stu-id="affb6-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="affb6-134">Ennek eredményeképpen a rendszer a legmegfelelőbb szabályt találta, és a szabályhoz beállított felsorolási értéket visszaadja ez az adatforrás.</span><span class="sxs-lookup"><span data-stu-id="affb6-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="affb6-135">Kivétel akkor áll elő, ha nem található alkalmazható szabály.</span><span class="sxs-lookup"><span data-stu-id="affb6-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="affb6-136">A kivételek megakadályozásához konfigurálja a szabályok listájának végén található további szabályokat, hogy kezelni tudja az eseteket, ha nem konfigurált értéket van megadva, vagy nincs megadott érték.</span><span class="sxs-lookup"><span data-stu-id="affb6-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="affb6-137">Ennek megfelelően használja a **\*Nem üres\*** és az **\*Üres\*** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="affb6-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Adatforrás hozzáadása a konfigurált Keresési adatforrás meghívására](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="affb6-139">Ha a **Vállalatközi beállítást** **Igen** beállításra adja a szerkeszthető keresési adatforráshoz, egy új szükséges **Vállalat** paramétert ad hozzá az adatforrás paramétereinek halmazához.</span><span class="sxs-lookup"><span data-stu-id="affb6-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="affb6-140">A keresési adatforrás hívása esetén futásidőben meg kell adni a **Vállalat** paraméter értékét.</span><span class="sxs-lookup"><span data-stu-id="affb6-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="affb6-141">Ha futásidőben meg van adva a vállalati kód, az ehhez a vállalathoz beállított szabályok segítségével lehet megtalálni a legmegfelelőbb szabályt, és a rendszer a megfelelő értéket adja vissza.</span><span class="sxs-lookup"><span data-stu-id="affb6-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="affb6-142">Az alábbi ábra bemutatja, hogyan lehet ezt megtenni, és hogyan módosulnak a szerkeszthető adatforrás paraméterei.</span><span class="sxs-lookup"><span data-stu-id="affb6-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![A Formátumok felsorolása\Keresési típusú vállalatközi keresési adatforrás áttekintése](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="affb6-144">Válasszon ki minden vállalatot külön-külön a szerkeszthető ER-formátum keresési adatforrására vonatkozó szabályok beállításához.</span><span class="sxs-lookup"><span data-stu-id="affb6-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="affb6-145">Futásidőben kivétel lép fel, amikor a vállalatközi keresés meg van hívva annak a vállalatnak a kódjával, amelynek keresési beállítása még nem fejeződött be.</span><span class="sxs-lookup"><span data-stu-id="affb6-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="affb6-146">Győződjön meg róla, hogy megadja az engedélyeket egy olyan felhasználónak, aki az ER-formátumot a vállalatközi **Keresési** adatforrással futtatja, hogy hozzáférjen az adatforráshoz tartozó összes vállalat adataihoz.</span><span class="sxs-lookup"><span data-stu-id="affb6-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="affb6-147">Ellenkező esetben a rendszer futásidejű kivételt ad.</span><span class="sxs-lookup"><span data-stu-id="affb6-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="affb6-148">A 10.0.19-es verziótól kezdve elérhetők a **Keresési** adatforrások kiterjesztett funkciói.</span><span class="sxs-lookup"><span data-stu-id="affb6-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="affb6-149">Ha a szerkeszthető keresési adatforrásra a **Kiterjesztett** lehetőséget **Igen** beállításra állítja, a konfigurált keresési adatforrás átvált arra a strukturált adatforrásra, amely további lehetőségeket kínál a konfigurált szabálykészlet elemzésére.</span><span class="sxs-lookup"><span data-stu-id="affb6-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="affb6-150">A következő ábrán ez az átalakítás látható.</span><span class="sxs-lookup"><span data-stu-id="affb6-150">The following illustration shows this transformation.</span></span>

   ![A Formátumok felsorolása\Keresési típusú strukturált keresési adatforrás áttekintése](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="affb6-152">A **Keresési** részelem függvényként van kialakítva, amely a konfigurálható szabályok készletéből a megadott paraméterek alapján a legmegfelelőbb szabályt keresi meg.</span><span class="sxs-lookup"><span data-stu-id="affb6-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="affb6-153">Az **IsLookupResultSet** alelem úgy van kialakítva, hogy elfogadja az alap felsorolási adatforrás megadott értékét, és **Igaz** *logikai értéket* adjon vissza, ha a szabályok halmaza legalább egy olyan szabályt tartalmaz, amelyhez a megadott felsorolási érték be lett állítva visszatérési értékként.</span><span class="sxs-lookup"><span data-stu-id="affb6-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="affb6-154">Ez a függvény a **Hamis** *logikai értéket* adja eredményül, ha nincsenek olyan konfigurált szabályok, amelyek a megadott felsorolási értéket adják vissza.</span><span class="sxs-lookup"><span data-stu-id="affb6-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="affb6-155">A **Beállítás** részelem olyan funkcióként van kialakítva, amely rekordlista rekordjaiként visszaadja a konfigurált szabályok halmazát.</span><span class="sxs-lookup"><span data-stu-id="affb6-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="affb6-156">A visszaadott értékek és a konfigurált szabálykészletek paraméterei megjelennek minden visszaadott rekordban a megfelelő adattípusok mezőiként:</span><span class="sxs-lookup"><span data-stu-id="affb6-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="affb6-157">A visszaadott érték a **Keresési eredmény** mezőjeként van megjelenítve.</span><span class="sxs-lookup"><span data-stu-id="affb6-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="affb6-158">A konfigurált paraméterek paraméternevekkel rendelkező mezőkként jelennek meg ( ebben a példában a **Kód** mező).</span><span class="sxs-lookup"><span data-stu-id="affb6-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="affb6-159">A **Keresési** adatforrás konfigurálásáról további tudnivalókat lásd: [ER-formátumok konfigurálása a jogi személyenként meghatározott paraméterek használatára](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="affb6-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="affb6-160">A keresési szabályok beállításának további tudnivalóit lásd: [Az ER-formátum paramétereinek beállítása jogi személyenként](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="affb6-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="affb6-161">További erőforrások</span><span class="sxs-lookup"><span data-stu-id="affb6-161">Additional resources</span></span>

[<span data-ttu-id="affb6-162">ER-formátumok konfigurálása a jogi személyenként meghatározott paraméterek használatára</span><span class="sxs-lookup"><span data-stu-id="affb6-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="affb6-163">Az ER-formátum paramétereinek beállítása jogi személyenként</span><span class="sxs-lookup"><span data-stu-id="affb6-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
