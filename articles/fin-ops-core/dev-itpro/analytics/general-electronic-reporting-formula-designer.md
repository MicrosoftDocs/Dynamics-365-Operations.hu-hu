---
title: Képletszerkesztő elektronikus jelentésekhez (ER)
description: A témakör tájékoztatást nyújt a képletszerkesztő használatának módjáról az elektronikus jelentésekben (ER).
author: NickSelin
manager: kfend
ms.date: 12/05/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 14539ed6c00915b7d59a5a3c4870ab6d1a96ad95
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 02/01/2020
ms.locfileid: "3002520"
---
# <a name="formula-designer-in-electronic-reporting-er"></a><span data-ttu-id="73948-103">Képletszerkesztő elektronikus jelentésekhez (ER)</span><span class="sxs-lookup"><span data-stu-id="73948-103">Formula designer in Electronic reporting (ER)</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="73948-104">Ez a témakör ismerteti a képletszerkesztő használatát az Elektronikus jelentésben (ER).</span><span class="sxs-lookup"><span data-stu-id="73948-104">This topic explains how to use the formula designer in Electronic reporting (ER).</span></span> <span data-ttu-id="73948-105">Ha egy formátumot az ER-ben meghatározott elektronikus dokumentumra vonatkozóan tervez meg, akkor használhat képleteket az adatok átalakításához a dokumentum teljesítésére és formázására vonatkozó követelményekhez történő megfeleltetés érdekében.</span><span class="sxs-lookup"><span data-stu-id="73948-105">When you design a format for a specific electronic document in ER, you can use formulas to transform data so that it meets the requirements for the document's fulfillment and formatting.</span></span> <span data-ttu-id="73948-106">Ezek a képletek a Microsoft Excel programban található képletekre hasonlítanak.</span><span class="sxs-lookup"><span data-stu-id="73948-106">These formulas resemble formulas in Microsoft Excel.</span></span> <span data-ttu-id="73948-107">A képletek funkciók különféle típusait támogatják - szöveg, dátum és időpont, matematikai logika, információ, adattípus-konvertálás funkciók, valamint egyéb üzletitartomány-specifikus funkciók.</span><span class="sxs-lookup"><span data-stu-id="73948-107">Various types of functions are supported in the formulas: text, date and time, mathematical, logical, information, and data type conversion functions, and also other, business domain–specific functions.</span></span>

## <a name="formula-designer-overview"></a><span data-ttu-id="73948-108">Képletszerkesztő áttekintése</span><span class="sxs-lookup"><span data-stu-id="73948-108">Formula designer overview</span></span>

<span data-ttu-id="73948-109">Az ER támogatja a képletszerkesztőt.</span><span class="sxs-lookup"><span data-stu-id="73948-109">ER supports the formula designer.</span></span> <span data-ttu-id="73948-110">Ezért tervezéskor konfigurálhatja a futtatás közben a következő feladatokhoz használható kifejezéseket:</span><span class="sxs-lookup"><span data-stu-id="73948-110">Therefore, at design time, you can configure expressions that can be used for the following tasks at runtime:</span></span>

- <span data-ttu-id="73948-111">Átalakításra vonatkozó adatok, amelyek az alkalmazás adatbázisából származnak, és egy ER adatmodellben kell megadni őket, amelyet az ER formátumok adatforrási feladataira terveztek.</span><span class="sxs-lookup"><span data-stu-id="73948-111">Transform data that is received from an application database and that should be entered in an ER data model that is designed to be a data source for ER formats.</span></span> <span data-ttu-id="73948-112">(Például ezek az átalakítások magukban foglalhatják a szűrést, csoportosítást és az adattípus-konverziót.)</span><span class="sxs-lookup"><span data-stu-id="73948-112">(For example, these transformations might include filtering, grouping, and data type conversion.)</span></span>
- <span data-ttu-id="73948-113">Olyan formátumadatok, amelyeket egy generáló elektronikus dokumentumba kell küldeni, egy adott ER-formátum elrendezésének és feltételeinek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="73948-113">Format data that must be sent to a generating electronic document in accordance with the layout and conditions of a specific ER format.</span></span> <span data-ttu-id="73948-114">(Például a formázás a kért nyelv vagy kultúra,illetve a kódolás alapján történhet).</span><span class="sxs-lookup"><span data-stu-id="73948-114">(For example, the formatting might be done in accordance with the requested language or culture, or the encoding).</span></span>
- <span data-ttu-id="73948-115">Elektronikus dokumentumok létrehozási folyamatának szabályozása.</span><span class="sxs-lookup"><span data-stu-id="73948-115">Control the process of creating electronic documents.</span></span> <span data-ttu-id="73948-116">(Például a kifejezések az adatok feldolgozásától függően engedélyezhetik vagy letilthatják a formátum egyes elemeinek kimenetét.</span><span class="sxs-lookup"><span data-stu-id="73948-116">(For example, the expressions can enable or disable the output of specific elements of the format, depending on processing data.</span></span> <span data-ttu-id="73948-117">Meg is szakíthatják a dokumentum létrehozásának folyamatát, vagy üzeneteket küldhetnek a felhasználóknak.)</span><span class="sxs-lookup"><span data-stu-id="73948-117">They can also interrupt the document creation process or throw messages to users.)</span></span>

<span data-ttu-id="73948-118">A **Képlettervező** lapot a következő műveletek bármelyikének végrehajtásakor meg lehet megnyitni:</span><span class="sxs-lookup"><span data-stu-id="73948-118">You can open the **Formula designer** page when you perform any of the following actions:</span></span>

- <span data-ttu-id="73948-119">Az adatmodellek komponenseihez tartozó adatforrás cikkek kötése.</span><span class="sxs-lookup"><span data-stu-id="73948-119">Bind data source items to data model components.</span></span>
- <span data-ttu-id="73948-120">A formátum komponenseihez tartozó adatforráscikkek kötése.</span><span class="sxs-lookup"><span data-stu-id="73948-120">Bind data source items to format components.</span></span>
- <span data-ttu-id="73948-121">Az adatforrások részeként számított mezők karbantartásának elvégzése.</span><span class="sxs-lookup"><span data-stu-id="73948-121">Complete maintenance of calculated fields that are part of data sources.</span></span>
- <span data-ttu-id="73948-122">Felhasználó által megadott paraméterek láthatósági feltételeinek meghatározása.</span><span class="sxs-lookup"><span data-stu-id="73948-122">Define the visibility conditions for user input parameters.</span></span>
- <span data-ttu-id="73948-123">A formátum átalakításainak tervezése.</span><span class="sxs-lookup"><span data-stu-id="73948-123">Design a format's transformations.</span></span>
- <span data-ttu-id="73948-124">A formátum összetevőkre vonatkozó engedélyező feltételek meghatározása.</span><span class="sxs-lookup"><span data-stu-id="73948-124">Define the enabling conditions for the format's components.</span></span>
- <span data-ttu-id="73948-125">A formátum fájl összetevőkre vonatkozó fájlneveinek definíciója.</span><span class="sxs-lookup"><span data-stu-id="73948-125">Define the file names for the format's FILE components.</span></span>
- <span data-ttu-id="73948-126">A vezérlő-ellenőrzések feldolgozására vonatkozó feltételek meghatározása.</span><span class="sxs-lookup"><span data-stu-id="73948-126">Define the conditions for process control validations.</span></span>
- <span data-ttu-id="73948-127">A vezérlő-ellenőrzések feldolgozására vonatkozó üzenetszöveg meghatározása.</span><span class="sxs-lookup"><span data-stu-id="73948-127">Define the message text for process control validations.</span></span>

## <a name="Binding"></a><span data-ttu-id="73948-128">Adatok kötése</span><span class="sxs-lookup"><span data-stu-id="73948-128">Data binding</span></span>

<span data-ttu-id="73948-129">Az ER Képletszerkesztő segítségével meghatározhatja azokat a kifejezéseket, amelyek átalakítják az adatforrásból származó adatokat, hogy az adatokat az adattárolóban futásidőben adhassa meg a következő módokon:</span><span class="sxs-lookup"><span data-stu-id="73948-129">The ER formula designer can be used to define an expression that transforms data that is received from data sources, so that the data can be entered in the data consumer in the following ways at runtime:</span></span>

- <span data-ttu-id="73948-130">Az alkalmazás-adatforrásokból és futtatási paraméterekből egy ER adatmodellbe</span><span class="sxs-lookup"><span data-stu-id="73948-130">From application data sources and runtime parameters to an ER data model</span></span>
- <span data-ttu-id="73948-131">Az ER adatmodell ER formátumba</span><span class="sxs-lookup"><span data-stu-id="73948-131">From an ER data model to an ER format</span></span>
- <span data-ttu-id="73948-132">Az alkalmazás-adatforrásokból és futtatási paraméterekből egy ER-formátumba</span><span class="sxs-lookup"><span data-stu-id="73948-132">From application data sources and runtime parameters to an ER format</span></span>

<span data-ttu-id="73948-133">Az alábbi ábra bemutatja az ilyen típusú kifejezés tervezését.</span><span class="sxs-lookup"><span data-stu-id="73948-133">The following illustration shows the design of an expression of this type.</span></span> <span data-ttu-id="73948-134">Ebben a példában a kifejezés két tizedesjegy pontosságra kerekíti az **Intrastat.AmountMST** mezőjének – Intrastat tábla – értékét, majd visszaadja a kerekített értéket.</span><span class="sxs-lookup"><span data-stu-id="73948-134">In this example, the expression rounds the value of the **Intrastat.AmountMST** field in the Intrastat table to two decimal places and then returns the rounded value.</span></span>

<span data-ttu-id="73948-135">[![Adatkötési kifejezés](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-135">[![Data binding expression](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span></span>

<span data-ttu-id="73948-136">Az alábbi ábra bemutatja, hogyan használható az ilyen típusú kifejezés.</span><span class="sxs-lookup"><span data-stu-id="73948-136">The following illustration shows how an expression of this type can be used.</span></span> <span data-ttu-id="73948-137">Ebben a példában a tervezett kifejezés eredményének megadása a **Adóösszeg-jelentési** adatmodell **Transaction.InvoicedAmount** komponensének alapján történik.</span><span class="sxs-lookup"><span data-stu-id="73948-137">In this example, the result of the designed expression is entered in the **Transaction.InvoicedAmount** component of the **Tax reporting model** data model.</span></span>

<span data-ttu-id="73948-138">[![Használatban lévő adatkötési kifejezés](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-138">[![Data binding expression being used](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span></span>

<span data-ttu-id="73948-139">Futásidőben a tervezett `ROUND (Intrastat.AmountMST, 2)` képlet az **AmountMST** mező értékét két tizedesjegy pontossággal kerekíti az Intrastat tábla minden egyes rekordjánál.</span><span class="sxs-lookup"><span data-stu-id="73948-139">At runtime, the designed formula, `ROUND (Intrastat.AmountMST, 2)`, rounds the value of the **AmountMST** field for each record in the Intrastat table to two decimal places.</span></span> <span data-ttu-id="73948-140">Ezután a kerekített értéket beviszi az **Adóbevallás** adatmodell **Transaction.InvoicedAmount** összetevőjébe.</span><span class="sxs-lookup"><span data-stu-id="73948-140">It then enters the rounded value in the **Transaction.InvoicedAmount** component of the **Tax reporting** data model.</span></span>

## <a name="Transformation"></a><span data-ttu-id="73948-141">Adatformázás</span><span class="sxs-lookup"><span data-stu-id="73948-141">Data formatting</span></span>

<span data-ttu-id="73948-142">Az ER Képletszerkesztő segítségével meghatározhatja azokat a formátumokat, amelyek átalakítják az adatforrásból származó adatokat, úgy hogy adatokat küldhet egy elektronikusan létrejövő dokumentum részeként.</span><span class="sxs-lookup"><span data-stu-id="73948-142">The ER formula designer can be used to define an expression that formats data that is received from data sources, so that the data can be sent as part of the generating electronic document.</span></span> <span data-ttu-id="73948-143">Előfordulhat, hogy olyan formátummal kell dolgoznia, amelyet amelyet olyan tipikus szabályként kell alkalmazni, amelyet egy formátumban újra kell használni.</span><span class="sxs-lookup"><span data-stu-id="73948-143">You might have formatting that must be applied as a typical rule that should be reused for a format.</span></span> <span data-ttu-id="73948-144">Ebben az esetben a formátumot bevezetheti egyszer a formátum konfigurációjában névvel ellátott, formázási kifejezést tartalmazó átalakításként.</span><span class="sxs-lookup"><span data-stu-id="73948-144">In this case, you can introduce that formatting one time in the format configuration, as a named transformation that has a formatting expression.</span></span> <span data-ttu-id="73948-145">Ez az elnevezett átalakítás hozzákapcsolható számos formátum-összetevőhöz, amelynek kimenetét formázni kell a létrehozott formázási kifejezésnek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="73948-145">This named transformation can then be linked to many format components where the output must be formatted according to the formatting expression that you created.</span></span>

<span data-ttu-id="73948-146">Az alábbi ábra bemutatja az ilyen típusú átalakítás tervezését.</span><span class="sxs-lookup"><span data-stu-id="73948-146">The following illustration shows the design of a transformation of this type.</span></span> <span data-ttu-id="73948-147">Ebben a példában a **TrimmedString** átalakítás a *karakterlánc* adattípus bejövő adatait csonkolja a kezdő és záró szóközök eltávolításával.</span><span class="sxs-lookup"><span data-stu-id="73948-147">In this example, the **TrimmedString** transformation truncates incoming data of the *String* data type by removing leading and trailing spaces.</span></span> <span data-ttu-id="73948-148">Ezután a csonkolt karakterláncot adja vissza.</span><span class="sxs-lookup"><span data-stu-id="73948-148">It then returns the truncated string value.</span></span>

<span data-ttu-id="73948-149">[![Átalakítás](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-149">[![Transformation](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span></span>

<span data-ttu-id="73948-150">Az alábbi ábra bemutatja, hogyan használható az ilyen típusú átalakítás.</span><span class="sxs-lookup"><span data-stu-id="73948-150">The following illustration shows how a transformation of this type can be used.</span></span> <span data-ttu-id="73948-151">Ebben a példában számos formátum-összetevő küld szöveget kimenetként futásidóben a létrehozó elektronikus dokumentum számára.</span><span class="sxs-lookup"><span data-stu-id="73948-151">In this example, several format components send text as output to the generating electronic document at runtime.</span></span> <span data-ttu-id="73948-152">Ezen formátum-összetevők mindegyike név szerint hivatkozik a **TrimmedString** átalakításra.</span><span class="sxs-lookup"><span data-stu-id="73948-152">All these format components refer to the **TrimmedString** transformation by name.</span></span>

<span data-ttu-id="73948-153">[![Használt átalakítás](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-153">[![Transformation being used](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span></span>

<span data-ttu-id="73948-154">Amikor a formátum azon összetevőit, mint például az előző példában a **partyName** összetevőt, amelyek hivatkoznak a **TrimmedString** átalakításra, ez az átalakítás kimenetként küldi el a létrehozó elektronikus dokumentum számára.</span><span class="sxs-lookup"><span data-stu-id="73948-154">When format components, such as the **partyName** component in the preceding illustration, refer to the **TrimmedString** transformation, the transformation sends text as output to the generating electronic document.</span></span> <span data-ttu-id="73948-155">Ez a szöveg nem tartalmazza a kezdő és záró szóközöket.</span><span class="sxs-lookup"><span data-stu-id="73948-155">This text doesn't include leading and trailing spaces.</span></span>

<span data-ttu-id="73948-156">Ha olyan formázással rendelkezik, amelyet egyénileg kell alkalmazni, akkor a formázás a megadott formátum-összetevő kötésének egyéni kifejezéseként jelenítheti meg.</span><span class="sxs-lookup"><span data-stu-id="73948-156">If you have formatting that must be applied individually, you can introduce that formatting as an individual expression of a binding of a specific format component.</span></span> <span data-ttu-id="73948-157">Az alábbi ábra bemutatja az ilyen típusú kifejezését.</span><span class="sxs-lookup"><span data-stu-id="73948-157">The following illustration shows an expression of this type.</span></span> <span data-ttu-id="73948-158">Ebben a példában a **partyType** formátum összetevő az adatforráshoz kötött azon kifejezésen keresztül, amely átalakítja a **Model.Company.RegistrationType** mezőjéből származó bejövő adatokat az adatforrásban a nagybetűs szöveghez.</span><span class="sxs-lookup"><span data-stu-id="73948-158">In this example, the **partyType** format component is bound to the data source via an expression that converts incoming data from the **Model.Company.RegistrationType** field in the data source to uppercase text.</span></span> <span data-ttu-id="73948-159">A kifejezés ezután ezt a szöveget az elektronikus dokumentum számára kimenetként küldi el.</span><span class="sxs-lookup"><span data-stu-id="73948-159">The expression then sends that text as output to the electronic document.</span></span>

<span data-ttu-id="73948-160">[![Formázás alkalmazása egyes összetevőkre](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-160">[![Applying formatting to an individual component](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span></span>

## <a name="Validation"></a><span data-ttu-id="73948-161">Folyamatáramlat irányítás</span><span class="sxs-lookup"><span data-stu-id="73948-161">Process flow control</span></span>

<span data-ttu-id="73948-162">A ER képlettervező segítségével meg lehet határozni azokat a kifejezéseket, amelyek irányítják az elektronikus dokumentumok létrehozásának folyamatábráját.</span><span class="sxs-lookup"><span data-stu-id="73948-162">The ER formula designer can be used to define expressions that control the process flow of generating electronic documents.</span></span> <span data-ttu-id="73948-163">A következő feladatokat végezheti el:</span><span class="sxs-lookup"><span data-stu-id="73948-163">You can perform the following tasks:</span></span>

- <span data-ttu-id="73948-164">Határozza meg azokat a kifejezéseket, amelyek meghatározzák, hogy mikor kell egy dokumentumkészítési folyamatot megszakítani.</span><span class="sxs-lookup"><span data-stu-id="73948-164">Define conditions that determine when a document creation process must be stopped.</span></span>
- <span data-ttu-id="73948-165">Határozza meg azokat a kifejezéseket, amelyek üzeneteket hoznak létre a felhasználónak a megállított folyamatról vagy végrehajtásnapló-üzeneteket adnak ki a jelentéskészítés zajló folyamatáról.</span><span class="sxs-lookup"><span data-stu-id="73948-165">Specify expressions that either create messages for the user about stopped processes or throw execution log messages about the continuing process of report generation.</span></span>
- <span data-ttu-id="73948-166">Adja meg a generálási elektronikus dokumentumok fájlneveit és létrehozás szabályozó feltételeit.</span><span class="sxs-lookup"><span data-stu-id="73948-166">Specify the file names of generating electronic documents, and control the conditions of their creation.</span></span>

<span data-ttu-id="73948-167">A folyamatáramlat irányítás minden szabálya egyéni ellenőrzésként van tervezve.</span><span class="sxs-lookup"><span data-stu-id="73948-167">Each rule of the process flow control is designed as an individual validation.</span></span> <span data-ttu-id="73948-168">Az alábbi ábra bemutatja az ilyen típusú ellenőrzést.</span><span class="sxs-lookup"><span data-stu-id="73948-168">The following illustration shows a validation of this type.</span></span> <span data-ttu-id="73948-169">Íme a konfiguráció magyarázata ebben a példában:</span><span class="sxs-lookup"><span data-stu-id="73948-169">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="73948-170">Az ellenőrzés akkor megy végbe, amikor a **INSTAT** csomópont létrejön az XML-fájl létrehozása során.</span><span class="sxs-lookup"><span data-stu-id="73948-170">The validation is evaluated when the **INSTAT** node is created during generation of the XML file.</span></span>
- <span data-ttu-id="73948-171">Ha a tranzakció listája üres, az ellenőrzés megállítja a végrehajtási folyamatot és **HAMIS** értéket küld vissza.</span><span class="sxs-lookup"><span data-stu-id="73948-171">If the list of transactions is empty, the validation stops the execution process and returns **FALSE**.</span></span>
- <span data-ttu-id="73948-172">Az ellenőrzés egy hibaüzenetet küld vissza, amely tartalmazza a felhasználó által előnyben részesített nyelven a SYS70894 címke szövegét.</span><span class="sxs-lookup"><span data-stu-id="73948-172">The validation returns an error message that includes the text of label SYS70894 in the user's preferred language.</span></span>

<span data-ttu-id="73948-173">[![Ellenőrzés](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-173">[![Validation](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span></span>

<span data-ttu-id="73948-174">Az ER képletszerkesztő segítségével generálhat egy fájlnevet a létrejövő elektronikus dokumentum számára, és kezelheti a fájl létrejöttének folyamatát.</span><span class="sxs-lookup"><span data-stu-id="73948-174">The ER formula designer can also be used to generate a file name for a generating electronic document and to control the file creation process.</span></span> <span data-ttu-id="73948-175">Az alábbi ábra bemutatja az ilyen típus folyamatáramlat-irányítás tervezését.</span><span class="sxs-lookup"><span data-stu-id="73948-175">The following illustration shows the design of a process flow control of this type.</span></span> <span data-ttu-id="73948-176">Íme a konfiguráció magyarázata ebben a példában:</span><span class="sxs-lookup"><span data-stu-id="73948-176">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="73948-177">A **model.Intrastat** adatforrásból származó rekordok listája kötegekre oszlik.</span><span class="sxs-lookup"><span data-stu-id="73948-177">The list of records from the **model.Intrastat** data source is divided into batches.</span></span> <span data-ttu-id="73948-178">Minden egyes köteg legfeljebb 1000 rekordot tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="73948-178">Each batch contains up to 1,000 records.</span></span>
- <span data-ttu-id="73948-179">A kimenet létrehoz egy irányítószámot, amely tartalmaz egy fájlt minden létrehozott kötegre vonatkozóan egy XML-formátumú fájlban.</span><span class="sxs-lookup"><span data-stu-id="73948-179">The output creates a zip file that contains one file in XML format for every batch that was created.</span></span>
- <span data-ttu-id="73948-180">Egy kifejezés a létrejövő elektronikus dokumentumokra vonatkozó fájlnevet ad vissza a fájlnév és a fájlnév-kiterjesztés összefűzésével.</span><span class="sxs-lookup"><span data-stu-id="73948-180">An expression returns a file name for generating electronic documents by concatenating the file name and the file name extension.</span></span> <span data-ttu-id="73948-181">A második kötegre és minden további kötegre vonatkozóan a fájl neve tartalmazza a Kötegazonosítót utótagként.</span><span class="sxs-lookup"><span data-stu-id="73948-181">For the second batch and all subsequent batches, the file name contains the batch ID as a suffix.</span></span>
- <span data-ttu-id="73948-182">Egy kifejezés lehetővé teszi ( **IGAZ** visszaküldése esetén) a fájl létrehozási folyamatát azon kötegekre vonatkozóan, amelyek legalább egy rekordot tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="73948-182">An expression enables (by returning **TRUE**) the file creation process for batches that contain at least one record.</span></span>

<span data-ttu-id="73948-183">[![Folyamatáramlat irányítás](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span><span class="sxs-lookup"><span data-stu-id="73948-183">[![Process flow control](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span></span>

## <a name="Enabled"></a><span data-ttu-id="73948-184">Dokumentumtartalmak vezérlése</span><span class="sxs-lookup"><span data-stu-id="73948-184">Document content control</span></span>

<span data-ttu-id="73948-185">Az elektronikus képlettervező segítségével olyan kifejezéseket állíthat be, amelyek vezérlik, hogy milyen adatokat kell elhelyezni az elektronikus dokumentumokban futásidőben.</span><span class="sxs-lookup"><span data-stu-id="73948-185">The ER formula designer can be used to configure expressions that control what data will be put into generated electronic documents at runtime.</span></span> <span data-ttu-id="73948-186">A kifejezések az adatok feldolgozásától és a konfigurált logikától függően engedélyezhetik vagy letilthatják a formátum egyes elemeinek kimenetét.</span><span class="sxs-lookup"><span data-stu-id="73948-186">The expressions can enable or disable the output of specific elements of the format, depending on processing data and configured logic.</span></span> <span data-ttu-id="73948-187">Ezeket a kifejezéseket egyetlen formátumú elemként is megadhatja az **Engedélyezve** mezőben a **Műveleti tervező** oldal **Hozzárendelés** lapján.</span><span class="sxs-lookup"><span data-stu-id="73948-187">These expressions can be entered for a single format element in the **Enabled** field on the **Mapping** tab of the **Operations designer** page.</span></span> <span data-ttu-id="73948-188">A kifejezéseket megadhatja logikai feltételként, amely egy *Logikai* értéket ad eredményül:</span><span class="sxs-lookup"><span data-stu-id="73948-188">You can enter the expressions as a logic condition that returns a *Boolean* value:</span></span>

- <span data-ttu-id="73948-189">Ha a feltétel **Igaz** értéket ad vissza, a jelenlegi formátumelem fut.</span><span class="sxs-lookup"><span data-stu-id="73948-189">If the condition returns **True**, the current format element is run.</span></span>
- <span data-ttu-id="73948-190">Ha a feltétel **Hamis** értéket ad vissza, a jelenlegi formátumelem kihagyásra kerül.</span><span class="sxs-lookup"><span data-stu-id="73948-190">If the condition returns **False**, the current format element is skipped.</span></span>

<span data-ttu-id="73948-191">Az alábbi ábra ilyen típusú kifejezéseket mutat be.</span><span class="sxs-lookup"><span data-stu-id="73948-191">The following illustration shows expressions of this type.</span></span> <span data-ttu-id="73948-192">(Az **ISO20022-jóváírás átutalás (NO)** formátumkonfigurációnak a Microsoft által biztosított 11.12.11 verziója kerül példaként felhasználásra.) Az **XMLHeader** formátumösszetevő úgy van konfigurálva, hogy leírja az átutalási üzenet szerkezetét az ISO 20022 XML-üzenetszabványoknak megfelelően.</span><span class="sxs-lookup"><span data-stu-id="73948-192">(Version 11.12.11 of the **ISO20022 Credit transfer (NO)** format configuration that is provided by Microsoft is used as an example.) The **XMLHeader** format component is configured to describe the structure of the credit transfer message according to the ISO 20022 XML message standards.</span></span> <span data-ttu-id="73948-193">Az **XMLHeader/Document/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd** formátumösszetevő úgy van beállítva, hogy hozzáadja a létrejövő üzenethez az **Ustrd** XML-elemet, és az átutalási adatokat elhelyezze strukturálatlan formátumban a következő XML-elemek szövegeként:</span><span class="sxs-lookup"><span data-stu-id="73948-193">The **XMLHeader/Document/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd** format component is configured to add the **Ustrd** XML element to the generated message and to put the remittance information in an unstructured format as text of the following XML elements:</span></span>

- <span data-ttu-id="73948-194">A **PaymentNotes** összetevő a fizetési megjegyzések szövegének előállítására szolgál.</span><span class="sxs-lookup"><span data-stu-id="73948-194">The **PaymentNotes** component is used to generate the text of payment notes.</span></span>
- <span data-ttu-id="73948-195">A **DelimitedSequence** összetevő az aktuális átutalás kiegyenlítéséhez használt vesszővel tagolt számlaszámokat állítja elő.</span><span class="sxs-lookup"><span data-stu-id="73948-195">The **DelimitedSequence** component generates comma-separated invoice numbers that are used to settle the current credit transfer.</span></span>

<span data-ttu-id="73948-196">[![PaymentNotes és DelimitedSequence összetevők](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span><span class="sxs-lookup"><span data-stu-id="73948-196">[![PaymentNotes and DelimitedSequence components](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span></span>

> [!NOTE]
> <span data-ttu-id="73948-197">A **PaymentNotes** és **DelimitedSequence** összetevők kérdőjellel vannak megjelölve.</span><span class="sxs-lookup"><span data-stu-id="73948-197">The **PaymentNotes** and **DelimitedSequence** components are labeled by using a question mark.</span></span> <span data-ttu-id="73948-198">A kérdőjel azt jelzi, hogy az összetevő használata feltételes.</span><span class="sxs-lookup"><span data-stu-id="73948-198">A question mark indicates that the use of a component is conditional.</span></span> <span data-ttu-id="73948-199">Ebben az esetben az összetevők használata a következő kritériumokon alapul:</span><span class="sxs-lookup"><span data-stu-id="73948-199">In this case, use of the components is based on the following criteria:</span></span>
>
> - <span data-ttu-id="73948-200">A **PaymentNotes** összetevőhöz meghatározott `@.PaymentsNotes <> ""` kifejezés lehetővé teszi (**IGAZ** érték visszaküldésével) az **Ustrd** XML-elemnek a fizetési megjegyzések szövegével való feltöltését, ha az aktuális átutalás esetében ez a szöveg nem üres.</span><span class="sxs-lookup"><span data-stu-id="73948-200">The `@.PaymentsNotes <> ""` expression that is defined for the **PaymentNotes** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with the text of payment notes, if that text isn't blank for the current credit transfer.</span></span>
>
>    <span data-ttu-id="73948-201">[![A PaymentNotes összetevő kifejezése](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span><span class="sxs-lookup"><span data-stu-id="73948-201">[![Expression for the PaymentNotes component](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span></span>
>
> - <span data-ttu-id="73948-202">A **DelimitedSequence** összetevőhöz meghatározott `@.PaymentsNotes = ""` kifejezés lehetővé teszi (**IGAZ** érték visszaküldésével) az **Ustrd** XML-elemnek a feltöltését olyan számlaszámok vesszővel elválasztott listájával, amelyeket az aktuális átutalás kiegyenlítéséhez használnak amikor az átutalás fizetési megjegyzése üres.</span><span class="sxs-lookup"><span data-stu-id="73948-202">The `@.PaymentsNotes = ""` expression that is defined for the **DelimitedSequence** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with a comma-separated list of the invoice numbers that are used to settle the current credit transfer, if the text of payment notes for that credit transfer is blank.</span></span>
>
>    <span data-ttu-id="73948-203">[![A DelimitedSequence összetevő kifejezése](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span><span class="sxs-lookup"><span data-stu-id="73948-203">[![Expression for the DelimitedSequence component](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span></span>
> 
> <span data-ttu-id="73948-204">Ennek a beállításnak a alapján az összes adósi kifizetésre generált üzenet **Ustrd** XML-elem tartalmazni fogja a fizetési megjegyzések szövegét, vagy ha az ilyen szöveg üres, akkor a kifizetés kiegyenlítéséhez használt számlaszámok vesszővel tagolt listáját.</span><span class="sxs-lookup"><span data-stu-id="73948-204">Based on this setup, the message that is generated for each debtor payment, the **Ustrd** XML element, will contain either the text of payment notes or, when that text is blank, a comma-separated list of the invoice numbers that are used to settle the payment.</span></span>

## <a name="TestFormula"></a><span data-ttu-id="73948-205">Konfigurált képletek érvényesítése</span><span class="sxs-lookup"><span data-stu-id="73948-205">Validation of configured formulas</span></span>

<span data-ttu-id="73948-206">A **Képlettervező** lapon kattintson a **Teszt** elemre a konfigurált képlet működésének ellenőrzéséhez.</span><span class="sxs-lookup"><span data-stu-id="73948-206">On the **Formula designer** page, select **Test** to validate how the configured formula works.</span></span>

<span data-ttu-id="73948-207">[![Teszt kiválasztása a képlet ellenőrzéséhez](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span><span class="sxs-lookup"><span data-stu-id="73948-207">[![Selecting Test to validate a forumula](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span></span>

<span data-ttu-id="73948-208">Ha a képletargumentumok értékei szükségesek, megnyithatja a **Tesztkifejezés** párbeszédpanelt a **Képlettervező** lapról.</span><span class="sxs-lookup"><span data-stu-id="73948-208">When the values of formula arguments are required, you can open the **Test expression** dialog box from the **Formula designer** page.</span></span> <span data-ttu-id="73948-209">A legtöbb esetben ezeket az argumentumokat manuálisan kell definiálni, mert a konfigurált kötések nem futnak a tervezés során.</span><span class="sxs-lookup"><span data-stu-id="73948-209">In most cases, these arguments must be manually defined, because the configured bindings aren't run at design time.</span></span> <span data-ttu-id="73948-210">A **Képlettervező** oldal **Teszteredmény** lapja megjeleníti a konfigurált képlet végrehajtásának eredményét.</span><span class="sxs-lookup"><span data-stu-id="73948-210">The **Test result** tab on the **Formula designer** page shows the result from execution of the configured formula.</span></span>

<span data-ttu-id="73948-211">A következő példa bemutatja, hogyan tesztelheti a külkereskedelmi tartományhoz konfigurált képletet annak biztosítására, hogy az Intrastat-vámtarifakód csak számjegyeket tartalmazzon.</span><span class="sxs-lookup"><span data-stu-id="73948-211">The following example shows how you can test the formula that is configured for the foreign trade domain to make sure that the Intrastat commodity code contains only digits.</span></span>

<span data-ttu-id="73948-212">A képlet tesztelésekor a **Tesztkifejezés** párbeszédpanel segítségével határozhatja meg az Intrastat-vámtarifakód teszteléshez használt értékét.</span><span class="sxs-lookup"><span data-stu-id="73948-212">When you test this formula, you can use the **Test expression** dialog box to specify the value of the Intrastat commodity code for testing.</span></span>

<span data-ttu-id="73948-213">[![A teszteléshez használatos Intrastat-vámtarifakód megadása](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span><span class="sxs-lookup"><span data-stu-id="73948-213">[![Specifying the Intrastat commodity code for testing](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span></span>

<span data-ttu-id="73948-214">Az Intrastat-vámtarifakód megadása és az **OK**kiválasztása után a **Képlettervező** oldal **Teszteredmény** lapja a konfigurált képlet végrehajtásának eredményét jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="73948-214">After you specify the Intrastat commodity code and select **OK**, the **Test result** tab on the **Formula designer** page shows the result of execution of the configured formula.</span></span> <span data-ttu-id="73948-215">Ezután kiértékelheti, hogy az eredmény elfogadható-e.</span><span class="sxs-lookup"><span data-stu-id="73948-215">You can then evaluate whether the result is acceptable.</span></span> <span data-ttu-id="73948-216">Ha az eredmény nem elfogadható, akkor frissítheti a képletet, és újra tesztelheti.</span><span class="sxs-lookup"><span data-stu-id="73948-216">If the result isn't acceptable, you can update the formula and test it again.</span></span>

<span data-ttu-id="73948-217">[![Teszteredmény](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span><span class="sxs-lookup"><span data-stu-id="73948-217">[![Test result](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span></span>

<span data-ttu-id="73948-218">Néhány képletet nem lehet a tervezés alatt tesztelni.</span><span class="sxs-lookup"><span data-stu-id="73948-218">Some formulas can't be tested at design time.</span></span> <span data-ttu-id="73948-219">Előfordulhat például, hogy egy képlet olyan adattípus-eredményt adott vissza, amely nem jelenik meg a **Teszteredmény** lapon. Ebben az esetben egy hibaüzenet jelenik meg, amely szerint a képletet nem lehet tesztelni.</span><span class="sxs-lookup"><span data-stu-id="73948-219">For example, a formula might return a result of a data type that can't be shown on the **Test result** tab. In this case, you receive an error message that states that the formula can't be tested.</span></span>

<span data-ttu-id="73948-220">[![Hibaüzenet](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span><span class="sxs-lookup"><span data-stu-id="73948-220">[![Error message](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="73948-221">További erőforrások</span><span class="sxs-lookup"><span data-stu-id="73948-221">Additional resources</span></span>

- [<span data-ttu-id="73948-222">Elektronikus jelentések áttekintése</span><span class="sxs-lookup"><span data-stu-id="73948-222">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="73948-223">Elektronikus jelentéskészítés képletének nyelve</span><span class="sxs-lookup"><span data-stu-id="73948-223">Electronic reporting formula language</span></span>](er-formula-language.md)
