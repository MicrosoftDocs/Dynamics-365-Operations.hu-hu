---
title: Az ütemezési motor teljesítményének javítása
description: Ez a témakör az ütemezési motorral és a teljesítmény javításával kapcsolatban nyújt tájékoztatást.
author: ChristianRytt
manager: tfehr
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: kamaybac
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: 1c1b940754021956998fe27ba16020d4b16aedf1
ms.sourcegitcommit: 49f3011b8a6d8cdd038e153d8cb3cf773be25ae4
ms.translationtype: HT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/16/2020
ms.locfileid: "4015067"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="c2cb3-103">Az ütemezési motor teljesítményének javítása</span><span class="sxs-lookup"><span data-stu-id="c2cb3-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="c2cb3-104">Az erőforrás-ütemezési motor a tervezett és kiadott termelési rendelések útvonalának ütemezéséhez használható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="c2cb3-105">A motort eredetileg a Dynamics AX 2012 részeként adták ki, és a megjelenése óta számos fejlesztésen ment keresztül.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="c2cb3-106">A [job shop ütemezési probléma](https://en.wikipedia.org/wiki/Job_shop_scheduling) egy rendkívül összetett kombinatorikus probléma, ahol a megoldás ideje exponenciálisan nő a döntési változók számával.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="c2cb3-107">A vevők a termelési útvonalakat és a kapcsolódó adatokat gyakran úgy határozzák meg, hogy az ütemezési problémát okoz, amely még a legmodernebb hardveren sem oldható meg ésszerű időn belül.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="c2cb3-108">Ez a témakör segít megismerni az ütemezési motort, illetve azt, hogy egy adott beállítás milyen hatással lehet a teljesítményre.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="c2cb3-109">Az ütemezés teljesítményének javítására vonatkozóan, az általános iránymutatások a motor által megoldandó probléma összetettségének csökkentését javasolják.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="c2cb3-110">Néhány főbb tényező, amely a teljesítményre hatással lehet:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="c2cb3-111">Számos művelettel rendelkező útvonalak</span><span class="sxs-lookup"><span data-stu-id="c2cb3-111">Routes with many operations</span></span>
- <span data-ttu-id="c2cb3-112">Párhuzamos művelettel rendelkező útvonalak</span><span class="sxs-lookup"><span data-stu-id="c2cb3-112">Routes with parallel operations</span></span>
- <span data-ttu-id="c2cb3-113">Egynél magasabb erőforrás-mennyiséggel rendelkező műveletek</span><span class="sxs-lookup"><span data-stu-id="c2cb3-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="c2cb3-114">Számos használható erőforrással rendelkező műveletek</span><span class="sxs-lookup"><span data-stu-id="c2cb3-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="c2cb3-115">Rögzített hivatkozások használata</span><span class="sxs-lookup"><span data-stu-id="c2cb3-115">Use of hard links</span></span>
- <span data-ttu-id="c2cb3-116">Véges kapacitás használata</span><span class="sxs-lookup"><span data-stu-id="c2cb3-116">Use of finite capacity</span></span>
- <span data-ttu-id="c2cb3-117">Az alkalmazott különböző naptárak száma</span><span class="sxs-lookup"><span data-stu-id="c2cb3-117">The number of different calendars used</span></span>
- <span data-ttu-id="c2cb3-118">A naptárban a működő időközök naponkénti száma</span><span class="sxs-lookup"><span data-stu-id="c2cb3-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="c2cb3-119">Az útvonal teljes időtartama</span><span class="sxs-lookup"><span data-stu-id="c2cb3-119">Total duration of the route</span></span>
- <span data-ttu-id="c2cb3-120">Több ütemezési motor párhuzamos futtatása</span><span class="sxs-lookup"><span data-stu-id="c2cb3-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="c2cb3-121">Alapvető ütemezési folyamat áttekintése</span><span class="sxs-lookup"><span data-stu-id="c2cb3-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="c2cb3-122">Annak megértéséhez, hogy egy adott beállítás milyen hatással lehet a teljesítményre, fontos megérteni valamit a folyamatnak a motorban, illetve az azt körülvevő X++ kódban történő működéséről.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="c2cb3-123">A rendelés ütemezésének alapvető folyamata három fő lépésből áll:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="c2cb3-124">**Adatok betöltése** – itt az X++ adatmodellek feladatok és megszorítások formájába átalakítva bekerül a motor belső adatmodelljébe.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="c2cb3-125">**Ütemezés** – ez az adott modellt és megszorításokat feldolgozó és eredményt létrehozó ütemezés fő forrása.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="c2cb3-126">E folyamatnak során az X++ kódból a motor szükség szerint munkaidőre vonatkozó adatokat és meglévő kapacitásfoglalásokat fog kérni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="c2cb3-127">**Adatok mentése** – a motor feladat kapacitásfoglalási időközök formájában megjelenő eredményét az X++ kód dolgozza fel a kapacitásfoglalások mentéséhez, és frissíti a feladatok/műveletek/rendelések kezdő és befejező időpontját.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="c2cb3-128">Adatok betöltése a motorba</span><span class="sxs-lookup"><span data-stu-id="c2cb3-128">Load data into the engine</span></span>

<span data-ttu-id="c2cb3-129">Az ütemezési motor a Supply Chain Management adatbázisnál elvontabb adatmodellel is rendelkezik, mert általános motorként készült, amely különböző adatforrásokat képes kezelni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="c2cb3-130">Az útvonal, a másodlagos műveletek és a futási idő fogalmát „le kell fordítani” a motor által megjelenített általános feladat és megszorítás modellre.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="c2cb3-131">A modell építéséhez használt logika jelentős mennyiségű üzleti logikával rendelkezik, és a forrásadatok értékétől függően eltérő.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="c2cb3-132">A felelős X++ osztály a `WrkCtrScheduler`, amely származtatott osztályokkal rendelkezi a tervezett termelési rendelésekhez, a kiadott termelési rendelésekhez és a projekt-előrejelzésekhez.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="c2cb3-133">Például gondolja át a következő táblázatban és képen látható útvonalat, amely viszonylag egyszerűnek tűnik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="c2cb3-134">Műv.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-134">Oper.</span></span> <span data-ttu-id="c2cb3-135">Szám</span><span class="sxs-lookup"><span data-stu-id="c2cb3-135">No.</span></span> | <span data-ttu-id="c2cb3-136">Prioritás</span><span class="sxs-lookup"><span data-stu-id="c2cb3-136">Priority</span></span> | <span data-ttu-id="c2cb3-137">Beállítási idő</span><span class="sxs-lookup"><span data-stu-id="c2cb3-137">Setup time</span></span> | <span data-ttu-id="c2cb3-138">Lefutási idő</span><span class="sxs-lookup"><span data-stu-id="c2cb3-138">Run time</span></span> | <span data-ttu-id="c2cb3-139">Várakozási idő a művelet után</span><span class="sxs-lookup"><span data-stu-id="c2cb3-139">Queue time after</span></span> | <span data-ttu-id="c2cb3-140">Erőforrások mennyisége</span><span class="sxs-lookup"><span data-stu-id="c2cb3-140">Quantity of resources</span></span> | <span data-ttu-id="c2cb3-141">Következő</span><span class="sxs-lookup"><span data-stu-id="c2cb3-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="c2cb3-142">10</span><span class="sxs-lookup"><span data-stu-id="c2cb3-142">10</span></span> | <span data-ttu-id="c2cb3-143">Elsődleges</span><span class="sxs-lookup"><span data-stu-id="c2cb3-143">Primary</span></span> | <span data-ttu-id="c2cb3-144">1.00</span><span class="sxs-lookup"><span data-stu-id="c2cb3-144">1.00</span></span> | <span data-ttu-id="c2cb3-145">2.00</span><span class="sxs-lookup"><span data-stu-id="c2cb3-145">2.00</span></span> | | <span data-ttu-id="c2cb3-146">1</span><span class="sxs-lookup"><span data-stu-id="c2cb3-146">1</span></span> | <span data-ttu-id="c2cb3-147">20</span><span class="sxs-lookup"><span data-stu-id="c2cb3-147">20</span></span> |
| <span data-ttu-id="c2cb3-148">10</span><span class="sxs-lookup"><span data-stu-id="c2cb3-148">10</span></span> | <span data-ttu-id="c2cb3-149">Másodlagos&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="c2cb3-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="c2cb3-150">1</span><span class="sxs-lookup"><span data-stu-id="c2cb3-150">1</span></span> | <span data-ttu-id="c2cb3-151">20</span><span class="sxs-lookup"><span data-stu-id="c2cb3-151">20</span></span> |
| <span data-ttu-id="c2cb3-152">20</span><span class="sxs-lookup"><span data-stu-id="c2cb3-152">20</span></span> | <span data-ttu-id="c2cb3-153">Elsődleges</span><span class="sxs-lookup"><span data-stu-id="c2cb3-153">Primary</span></span> | | <span data-ttu-id="c2cb3-154">3.00</span><span class="sxs-lookup"><span data-stu-id="c2cb3-154">3.00</span></span> | <span data-ttu-id="c2cb3-155">1.00</span><span class="sxs-lookup"><span data-stu-id="c2cb3-155">1.00</span></span> | <span data-ttu-id="c2cb3-156">3</span><span class="sxs-lookup"><span data-stu-id="c2cb3-156">3</span></span> | <span data-ttu-id="c2cb3-157">0</span><span class="sxs-lookup"><span data-stu-id="c2cb3-157">0</span></span> |

<span data-ttu-id="c2cb3-158">![Példaútvonal-diagram](media/scheduling-engine-route.png "Példaútvonal-diagram")</span><span class="sxs-lookup"><span data-stu-id="c2cb3-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="c2cb3-159">A program ezt a motornak történő elküldésekor nyolc feladatra osztja fel, amint az a következő ábrán látható (válassza ki a képet a nagyításhoz).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="c2cb3-160">[![Motorfeladatok ütemezése](media/scheduling-engine-jobs.png "Ütemezési motor feladatok")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="c2cb3-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="c2cb3-161">A két feladat közötti normál kapcsolat `FinishStart`, amely azt jelenti, hogy egy feladat befejezési időpontjának meg kell előznie egy másik feladat kezdési időpontját.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="c2cb3-162">Mivel a beállítást ugyanannak az erőforrásnak kell elvégeznie, amely a folyamatot később végrehajtja, a kettő között `OnSameResource` megszorítások vannak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="c2cb3-163">A 10 elsődleges és másodlagos műveletéhez tartozó feladatok között van `StartStart` és `FinishFinish` hivatkozás van, ami azt jelenti, hogy a feladatoknak ugyanakkor kell kezdődniük és befejeződniük, és `NotOnSameResource` megszorítások is vannak, amelyek megakadályozzák, hogy az elsődleges és a másodlagos erőforrás azonos legyen.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="c2cb3-164">A 20-as művelet esetén, ahol az erőforrások mennyisége 3 értékűre van állítva, a feldolgozási feladatot három különböző feladatra osztják fel, ahol minden feladatnak pontosan egy időben kell futnia.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="c2cb3-165">Ebben az esetben az útvonalcsoport úgy van beállítva, hogy a várakozási sor számára egy idő után ne kössön le kapacitást, ezért a várakozási sor után csak egyetlen feladat van.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="c2cb3-166">Az ütemezési motor csak a feladatok fogalmait érti, és nem rendelkezik a műveletek fogalmával.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="c2cb3-167">Ez azt jelenti, hogy a műveletek ütemezése során a műveletek feladatokra is feloszthatók, bár ezek nem őrződnek meg az adatbázisban.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="c2cb3-168">Minden feladathoz meg kell határozni a feladat kapacitáskövetelményét (a másodpercek száma szükséges).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="c2cb3-169">Az erőforrás-szükségletek meghatározásának módjától függően, minden feladatnál elküldhető az összes potenciális alkalmazható erőforrás listája, amelyeken a feladat futhat, illetve elküldhető az adott erőforrás kapacitáskövetelménye.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="c2cb3-170">Annak ellenére, hogy a modell létrehozásakor a program elküldi az alkalmazható erőforrások listáját, a motornak továbbra is biztosítania kell, hogy az erőforrás-hozzárendelés ténylegesen érvényes legyen a feladat teljes időtartamára.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="c2cb3-171">Ütemezési motor belső részei</span><span class="sxs-lookup"><span data-stu-id="c2cb3-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="c2cb3-172">Ütemezési motor interfész</span><span class="sxs-lookup"><span data-stu-id="c2cb3-172">Scheduling engine interface</span></span>

<span data-ttu-id="c2cb3-173">A motor belső működése legjobban a kívülről megfigyelhető funkcióinak megismerésével érthető meg.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="c2cb3-174">Az X++ esetében a fő felület a `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="c2cb3-175">A következő alszakaszokban leírt módszerekkel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="c2cb3-176">Általános motor</span><span class="sxs-lookup"><span data-stu-id="c2cb3-176">General engine</span></span>

| <span data-ttu-id="c2cb3-177">**Metódus**</span><span class="sxs-lookup"><span data-stu-id="c2cb3-177">**Method**</span></span> | <span data-ttu-id="c2cb3-178">**Cél**</span><span class="sxs-lookup"><span data-stu-id="c2cb3-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="c2cb3-179">Az összes betöltött feladat ütemezése és a hibakód visszaadása.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="c2cb3-180">Az ütemezési eredmény és egy adott feladat által azonosított sorozat első hibafeladatának beolvasása.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="c2cb3-181">A motor által tárolt összes feladat kapacitásfoglalásainak ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="c2cb3-182">Időbélyegző küldése a motornak, a motor gyorsítótárában lévő ütemezett feladatokhoz tartozó összes új kapacitásfoglalásra beállítva.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="c2cb3-183">Tulajdonság-előtag hozzáadása a kapacitás összesítése során használt tulajdonságkészlethez.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="c2cb3-184">Erőforrás hozzáadása az ütemezési motor erőforráskészletéhez.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="c2cb3-185">Erőforráscsoport hozzáadása az ütemezési motor erőforráscsoport-készletéhez.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="c2cb3-186">Erőforrás hozzáadása tagként egy erőforráscsoporthoz.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="c2cb3-187">Ütemezés-optimalizálási cél hozzáadása (időtartam vagy prioritás).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="c2cb3-188">Egyéni feladatok</span><span class="sxs-lookup"><span data-stu-id="c2cb3-188">Individual jobs</span></span>

| <span data-ttu-id="c2cb3-189">**Metódus**</span><span class="sxs-lookup"><span data-stu-id="c2cb3-189">**Method**</span></span> | <span data-ttu-id="c2cb3-190">**Cél**</span><span class="sxs-lookup"><span data-stu-id="c2cb3-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="c2cb3-191">Feladat- adatrekord hozzáadása, amely ütemezendő feladatról értesíti a motort.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="c2cb3-192">Megszorítás hozzáadása, amelyet a feladatnak egy megadott dátumon és időpontban kell lezárnia.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="c2cb3-193">Megszorítás hozzáadása, amelyet a feladatnak egy megadott dátumon és időpontban kell elkezdenie.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="c2cb3-194">Megszorítás meghatározása, amelyet egy feladat egy megadott maximális számú napra terjeszthet ki.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="c2cb3-195">Megszorítás hozzáadása, amelyet a feladatnak egy adott erőforrásra kell ütemeznie.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="c2cb3-196">Feladathoz tartozó kötési prioritás hozzáadása egy (feladat, megszorítási szint) pár számára.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="c2cb3-197">A magasabb prioritási érték azt jelenti, hogy a feladat változói korábban kötve lesznek.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="c2cb3-198">A feladat feldolgozása az azonos sorban alacsonyabb prioritási értékkel rendelkező feladatok feldolgozása előtt történik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="c2cb3-199">Kapacitásterhelési adatok hozzáadása egy feladathoz (például a feladat szükséges futásideje), függetlenül attól, hogy a feladat mely erőforráson fut.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="c2cb3-200">Erőforrás hozzáadása a feladatok elvégzéséhez használható erőforrások készletéhez, továbbá az adott erőforráson történő futtatás esetén szükséges kapacitás meghatározása.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="c2cb3-201">Feladatcéladatok hozzáadása a meghatározott megszorítási szinthez (legkorábbi befejezési vagy legkésőbbi kezdési idő).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="c2cb3-202">Prioritás hozzáadása abban az esetben történő felhasználásra, ha erőforrásra feladat van ütemezve.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="c2cb3-203">Olyan munkaidő meghatározása, amely attól az erőforrástól függ, amelyre a feladat ütemezése történik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="c2cb3-204">Olyan munkaidő meghatározása, amely független attól az erőforrástól, amelyre a feladat ütemezése történik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="c2cb3-205">Feladat megjelölése ütemezésre az erőforráscsoport szintjén.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="c2cb3-206">Annak beállítása, hogy a megelőlegezés engedélyezett-e egy erőforráson (ha a motor nem folytonos kapacitáshelyekre ütemezheti a feladatot).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="c2cb3-207">A feladat ütemezéséhez szükséges erőforrások számának megadása (csak műveletek ütemezéséhez).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="c2cb3-208">Feladatok közötti megszorítások</span><span class="sxs-lookup"><span data-stu-id="c2cb3-208">Constraints between jobs</span></span>

| <span data-ttu-id="c2cb3-209">**Metódus**</span><span class="sxs-lookup"><span data-stu-id="c2cb3-209">**Method**</span></span> | <span data-ttu-id="c2cb3-210">**Cél**</span><span class="sxs-lookup"><span data-stu-id="c2cb3-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="c2cb3-211">Hivatkozás hozzáadása (például befejezés\>kezdés) két feladat között.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="c2cb3-212">Annak a megszorításnak a meghatározása, amelyet a feladat csak egy másik feladat befejezése és némi késedelmi idő után zárhat le.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="c2cb3-213">Megszorítás hozzáadása, amely szerint a feladatokhoz lefoglalt kapacitáshelyeknek a feladatokhoz használt két erőforráshoz tartozó, átfedő munkaidőkbe kell esnie.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="c2cb3-214">Megszorítás hozzáadása, amely meghatározza a feladatok sorrendbe állításának módját, amikor egy cikk adott mennyisége két erőforrás között áthelyezhető, miközben az első erőforrás még nem fejezte be a feldolgozást, így a második erőforrás megkezdheti a feldolgozást.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="c2cb3-215">Megszorítás hozzáadása, amely szerint két feladat nem ütemezhető ugyanarra az erőforrásra.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="c2cb3-216">Megszorítás hozzáadása, amely szerint két feladat ugyanarra az erőforrásra ütemezendő.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="c2cb3-217">Megszorítás hozzáadása, amely szerint egy feladatnak ugyanazokhoz az időhelyekhez kell kapacitásfoglalásokkal rendelkeznie, mint az elsődleges feladatnak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="c2cb3-218">Tájékoztatás arról, hogy párhuzamos feladatkészletben melyik feladat az elsődleges feladat.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="c2cb3-219">Feloldó</span><span class="sxs-lookup"><span data-stu-id="c2cb3-219">Solver</span></span>

<span data-ttu-id="c2cb3-220">Maga a motor alapvetően egy specializált megszorítás-feloldó, egyedi heurisztikával kiegészítve.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="c2cb3-221">A feloldó a következő két fő elemen alapul: változók és megszorítások.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="c2cb3-222">Változó</span><span class="sxs-lookup"><span data-stu-id="c2cb3-222">Variable</span></span>

<span data-ttu-id="c2cb3-223">A változók a lehetséges értékek tartományát jelentik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="c2cb3-224">Az ütemezési motor kétféle változóval rendelkezik:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="c2cb3-225">**DateTime változó** – minden dátumot és időpontot tartalmazó tartománnyal rendelkezik, és a tartomány a változó alsó és felső időkorlátjának egymáshoz közelítésével korlátozható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="c2cb3-226">**Erőforrás változó** – az alkalmazható erőforrások tartományával rendelkezik, és a tartomány az erőforrásoknak a listából való eltávolításával korlátozható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="c2cb3-227">Megszorítás</span><span class="sxs-lookup"><span data-stu-id="c2cb3-227">Constraint</span></span>

<span data-ttu-id="c2cb3-228">A megszorítás a változókra a tartományaik korlátozásával fejti ki hatását, de függ is a változóktól, így akkor aktiválódik, ha a változók módosulnak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="c2cb3-229">A „megszorítás-propagálás” folyamata az, amikor egy megszorítás végrehajtja a fő funkcióját, és siker esetén jelentést küld a fő logikai rendszernek.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="c2cb3-230">Egy változó akkor tekinthető kötöttnek, ha tovább már nem korlátozható, ami a DateTime változó esetében azt jelenti, hogy a felső és az alsó korlát azonos, az Erőforrás változó esetében pedig azt, hogy utóbbi csak egyetlen alkalmazható erőforrással rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="c2cb3-231">Ha minden változó kötött, akkor megoldást talált a program.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="c2cb3-232">Megszorítási szintek</span><span class="sxs-lookup"><span data-stu-id="c2cb3-232">Constraint levels</span></span>

<span data-ttu-id="c2cb3-233">Ha az ütemezés végrehajtása az anyagszükséglet-tervezés (MRP) fedezeti fázis részeként történik, a rendelések a szükséglet dátumától visszafelé lesznek ütemezve.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="c2cb3-234">Mindazonáltal, ha nem található olyan ütemezés, amely a mai napon vagy később kezdődik, és a szükséglet dátuma előtt ér véget, akkor az ütemezési irány a mai napról előrefelé fog változni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="c2cb3-235">Ezt a fő üzleti szabályt a megszorítások szintekbe szervezésével kezeli a program.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="c2cb3-236">Ha a rendszer a legmagasabb szintű megszorítások használatakor nem talál megoldást, akkor az adott szint összes megszorítását elveti, és az alacsonyabb szinttel próbálkozik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="c2cb3-237">A gyakorlatban ez azt jelenti, hogy visszafelé ütemezésnél a modell tartalmazni fog egy 1. szintet a legkésőbbi kezdési idejű feladatcélokkal, maximális befejezési idő (a szükségleti dátum) megszorítással, illetve egy 0. szintet a legkorábbi kezdési idejű feladatcélokkal, és minimális kezdési idő (a mai nap) megszorítással.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="c2cb3-238">Algoritmus</span><span class="sxs-lookup"><span data-stu-id="c2cb3-238">Algorithm</span></span>

<span data-ttu-id="c2cb3-239">A motor algoritmusának fő lépései a következők:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="c2cb3-240">A különállóan megoldható sorozatok (munkaláncok) megkeresése.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="c2cb3-241">Kísérlet a legnagyobb megszorítási szinthez tartozó sor kezdeti megoldásának megkeresésére.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="c2cb3-242">A feladatok feladatcélok és prioritások alapján történő rendezése, ami révén megtalálható a kezdő feladat.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="c2cb3-243">A feladatok ciklusba állítása a következő sorrendben:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="c2cb3-244">Az összes propagálandó megszorítás megkeresése és a propagálás futtatása.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="c2cb3-245">Ha a feladathoz tartozó összes változó kötött, akkor megvan az adott feladat megoldása.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="c2cb3-246">Ha az egyik változó nem köthető a megszorítások megszegése nélkül, akkor állítsa vissza a változó kötését, próbálkozzon egy másik értékkel a tartományban (erőforrás-változó esetében), majd futtassa újra a megszorítások propagálását.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="c2cb3-247">Ha nem található megoldás, akkor az aktuális megszorítási szint összes megszorítását eltávolításra, a megszorítási szint alacsonyabbra kerül (ha van alacsonyabb szint), és a rendszer az új megszorításkészlettel újra megpróbál megoldást keresni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="c2cb3-248">Ha van megvalósítható megoldás, akkor elindul az optimalizálási fázis, amely jobb megoldást próbál találni mindaddig, amíg el nem éri az optimalizálási időtúllépést vagy ki nem merül az összes erőforrás-kombináció.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="c2cb3-249">A megszorításmegoldó nem ismeri az ütemezési algoritmus jellemzőit.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="c2cb3-250">A „varázslat” kulcsa a különféle megszorítások meghatározásában és kombinációjában rejlik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="c2cb3-251">Munkaidők meghatározása</span><span class="sxs-lookup"><span data-stu-id="c2cb3-251">Determining working times</span></span>

<span data-ttu-id="c2cb3-252">A motor (belső) megszorításainak nagy része az erőforrások munkaidejét és kapacitását vezérli.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="c2cb3-253">A feladat lényegében az erőforrás munkaidőhelyeinek adott pontról adott irányban történő eltolása és kellő hosszúságú intervallum keresése, amelyben a feladatokhoz szükséges kapacitás (idő) elfér.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="c2cb3-254">Ehhez a motornak ismernie kell az erőforrás munkaidőit.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="c2cb3-255">A fő modell adataival szemben a munkaidő *lustán van betöltve* , ami azt jelenti, hogy szükség szerint töltődnek be a motorba.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-255">Opposite to the main model data, the working times are *lazy loaded* , meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="c2cb3-256">E megközelítés oka, hogy a Supply Chain Management rendszerben a naptárakhoz tartozó munkaidők gyakran hosszú ideig megtalálhatók, és jellemzően számos naptár létezik, így az adatok túl nagyok az előzetes betöltéshez.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="c2cb3-257">A naptárinformációkat a motor darabokban, az X++ `WrkCtrSchedulingInteropDataProvider.getWorkingTimes` osztály mód meghívásával kéri le.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="c2cb3-258">A kérelem egy adott naptári azonosítóra, adott időintervallumban vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="c2cb3-259">A Supply Chain Management kiszolgáló-gyorsítótárának állapotától függően, a kérelmek mindegyike több adatbázis-hívásba is bekerülhet, ami hosszú időt igényel (a tiszta számítási időhöz képest).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="c2cb3-260">Ha a naptár nagyon bonyolult munkaidő-meghatározásokat tartalmaz sok napi munkaidő-intervallummal, az szintén megnöveli a betöltéshez szükséges időt.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="c2cb3-261">Ha a munkaidő-adatok betöltődnek az ütemezési motorba, akkor megőrződnek az adott naptár belső gyorsítótárában. Ez azt jelenti, hogy ha bármely más feladat vagy erőforrás ugyanazt a naptárt használja, akkor az újabb keresések gyorsan elvégezhetők a memóriából.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="c2cb3-262">A rossz teljesítmény egyik gyakori oka, ha minden erőforráshoz külön naptári azonosító van használatban, mert így minden naptárhoz adatokat kell kérni, még akkor is, ha a naptárak tartalma esetleg azonos.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="c2cb3-263">Véges kapacitás</span><span class="sxs-lookup"><span data-stu-id="c2cb3-263">Finite capacity</span></span>

<span data-ttu-id="c2cb3-264">Véges kapacitás használata esetén a rendszer a naptárból származó munkaidőhelyeket a meglévő kapacitásfoglalások alapján felosztja és csökkenti.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="c2cb3-265">Ezeket a foglalásokat a program ugyanazon a `WrkCtrSchedulingInteropDataProvider` osztályon keresztül olvassa be, mint a naptárak, de a `getCapacityReservations` mód használatával.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="c2cb3-266">Az alaptervezés során történő ütemezéskor a rendszer figyelembe veszi az adott alapterv foglalásait, és ha az **Alaptervezés paraméterei** lapon engedélyezve van, akkor figyelembe veszi a megerősített termelési rendelésekből származó foglalásokat is.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="c2cb3-267">Hasonlóképpen a termelési rendelések ütemezésekor lehetőség van a meglévő tervezett rendelésekből származó foglalások belefoglalására is, bár ez nem olyan gyakori, mint a másik eljárás.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="c2cb3-268">Véges kapacitás használata esetén az ütemezés több okból is hosszabb időt vesz igénybe:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="c2cb3-269">A kapacitási adatoknak az adatbázisból való beolvasása lassú művelet, és a kapacitási adatok kiszolgálóoldali gyorsítótárazása általában nem olyan jó, mint a munkaidők esetében, mivel ezek nincsenek úgy megosztva az erőforrások között, mint a naptárak általában.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="c2cb3-270">Az eltolandó munkaidőhelyek száma a felosztások miatt egyre nagyobb lesz, és a hosszabb időszakra eső helyeket általában ki kell vizsgálni, mielőtt a megoldás megtalálható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="c2cb3-271">Az ütemezés befejezése után ellenőrizni kell, vannak-e ütköző foglalások (részletek az „Ütemezési motorok párhuzamos futtatása” című szakaszban).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="c2cb3-272">Az erőforrás-kombinációk vizsgálata</span><span class="sxs-lookup"><span data-stu-id="c2cb3-272">Examining the resource combinations</span></span>

<span data-ttu-id="c2cb3-273">Ha a feladatsorozat csak a szokásos `FinishStart` hivatkozásokat tartalmazza, ami azt jelenti, hogy elágazások nélküli egyszerű láncot képez, akkor optimális eredmény (egy rendelésből, nem több rendelést átfogóan) az első feladat legjobb megoldásának megtalálásával, majd a következő feladat legjobb megoldásának megkeresésére irányuló folytatással érhető el.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="c2cb3-274">A feladat legjobb megoldása azt jelenti, hogy a rendszer megkeresi azt az erőforrást, amely hozzájuthat a feladatcélhoz legközelebb eső kezdési és befejezési dátumhoz (előre ütemezésben ez azt jelenti, hogy a lehető leghamarabb megszerzi a feladat befejezési dátumát), miközben továbbra is figyelembe veszi a megszorításokat.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="c2cb3-275">Párhuzamos feladatok esetén a megoldás megkeresése az erőforrások különböző kombinációinak vizsgálatát is megában foglalhatja.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="c2cb3-276">A lehetséges erőforrás-kombinációk száma a kapcsolódó párhuzamos feladatokhoz szükséges alkalmazható erőforrások számából származik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="c2cb3-277">Különösen akkor, ha egy rendelés ütemezése egy igénylési időponttól visszafelé történik, hosszabb ideig is eltarthat, amíg a rendszer felismeri, hogy a problémára nincs megoldás, amely a párhuzamos feladatokat a mai dátum elé illesztené. Ilyenkor a rendszernek az összes kombinációt ellenőriznie kell, mert lehetnek nagyobb hatékonysággal vagy más naptárral rendelkező erőforrások is, amelyek eredményt adhatnak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="c2cb3-278">Ez azt jelenti, hogy ha nem állítottak be időtúllépési korlátot, akkor a folyamat az előrelépés irányába történő váltás előtt hosszú ideig fog futni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="c2cb3-279">Ez a kombinatorikus logika azt is jelenti, hogy több alkalmazható erőforrás hozzáadása lassíthatja a motor futását.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="c2cb3-280">Ha párhuzamos műveletek és végtelen kapacitással rendelkező ütemezés esetén teljesítményproblémák lépnek, akkor ezek részben úgy is megoldhatók, hogy az útvonal-tervező eldönti, mely erőforrást kell használni, majd az erőforrást közvetlenül hozzárendeli a művelethez (mert a motor a legtöbb esetben végül mindig ugyanazt az erőforrást választja, így a végeredmény ugyanaz lesz).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="c2cb3-281">Rögzített hivatkozások</span><span class="sxs-lookup"><span data-stu-id="c2cb3-281">Hard links</span></span>

<span data-ttu-id="c2cb3-282">Két feladat közötti hivatkozás rögzítettre történő beállítása biztosítja, hogy az egyik feladat befejezése és a következő kezdése között nincs időbeli különbség.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="c2cb3-283">Ez nagyon hasznos lehet olyan helyzetekben, mint például amikor a fémet egyik feladatban felmelegítik, majd a következő feladatban feldolgozzák, ahol nem kívánatos, hogy a fém közben lehűljön.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="c2cb3-284">Normál kötetlen hivatkozásokkal és előre ütemezéssel, ha az útvonal elágazások nélküli egyszerű láncot képez, eredmény azáltal érhető el, ha a rendszer megtalálja a megoldást az első feladatra, amely megfelel saját megszorításainak, majd továbbhalad a befejezési időt az előző feladatból a következő feladatra toló láncon át.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="c2cb3-285">Ha a jelenlegi feladat nem talál kapacitást, akkor a kezdési idő tovább kitolódik anélkül, hogy a feladatok között esetlegesen létrejövő hézagok bármilyen következménnyel járnának a korábbi feladatokra.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="c2cb3-286">Viszont ha rögzített hivatkozások (különösen a véges kapacitáshoz kapcsolódók) szerepelnek azonos helyzetben, akkor az, hogy a láncban egy feladat később nem talál kapacitást, azt fogja jelenteni, hogy minden korábbi ütemezett feladatot egyenként kell „húzkodni”, és így többször újra kell ütemezni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="c2cb3-287">Különösen olyan esetekben, amikor több erőforrás nagy terhelést kap, a rögzített hivatkozások láncreakciót okozhatnak, amelyben a feladatok hatással vannak egymásra, és számos ismétlést kell végrehajtani ahhoz, hogy az eredmény megvalósítható ütemezést adjon.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="c2cb3-288">Ütemezési motorok párhuzamos futtatása</span><span class="sxs-lookup"><span data-stu-id="c2cb3-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="c2cb3-289">Ha az ütemezés elvégzése egy alaptervezés futtatásának részeként történik, amelyhez segítőket is használnak, az alaptervezést segítő szálak mindegyike felveheti a termelési rendelések ütemezésének feladatait is.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="c2cb3-290">Ez azt jelenti, hogy egyidejűleg több ütemezési motor is futhat.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="c2cb3-291">Bár a többszálú működés általában jelentősen előnyös hatást tesz a teljesítményre, de az ütemezés vonatkozásában van néhány funkcionális hátrány is.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="c2cb3-292">Az MRP modulban az adott anyagjegyzék- (BOM-) szint összes termelési rendelése be van ütemezve az igénylési dátum szerinti sorrendben, ami azt jelenti, hogy a legkorábbi igénylési dátummal rendelkező rendeléseket kell először ütemezni, és így ezeknek van a legnagyobb esélye az elérhető erőforrás-kapacitás megszerzésére.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="c2cb3-293">Mindazonáltal, ha a nem ütemezett rendelések listájából több motort választ, a sorozat már nem biztosítható, mert az egyik gyorsabban végezhet a másiknál.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="c2cb3-294">Ha az ütemezés véges kapacitást használ, és ha több motorpéldány próbál meg ütemezni olyan rendeléseket, amelyek potenciálisan ugyanazokat az erőforrásokat ugyanabban az intervallumban használják, akkor versenyhelyzet is előállhat.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="c2cb3-295">Az ilyen versenyfeltételek szám az alaptervek előzményei lapon, az **Ütemezési ütközések** mezőben van rögzítve.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="c2cb3-296">Az ütközésfeloldás logikája a következő:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="c2cb3-297">Rendelés ütemezése (zárolás nélkül) és kapacitásfoglalás megszerzése.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="c2cb3-298">Zárolás.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-298">Take the lock.</span></span>
- <span data-ttu-id="c2cb3-299">Annak ellenőrzése, hogy az időtartományban van-e újabb kapacitásfoglalás az ütemezett erőforrásokhoz.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="c2cb3-300">Ha nincs, akkor a kapacitás beírható, és a zárolás feloldható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="c2cb3-301">Ha van, akkor fel kell oldani a zárolást, majd az elejétől kezdve újraütemezni a rendelést.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="c2cb3-302">Tehát több motorpéldánnyal történő ütemezés esetén az eredmény nem teljesen determinisztikus, mert az egyes szálak pontos időzítésétől függ.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="c2cb3-303">Műveletütemezés teljesítménye</span><span class="sxs-lookup"><span data-stu-id="c2cb3-303">Operation scheduling performance</span></span>

<span data-ttu-id="c2cb3-304">Noha a műveletütemezés a motor szempontjából elnagyolt kapacitástervezésként is ismert, ez véges kapacitás használata esetén, nehezebben megoldható problémát is jelenthet, mert a megvalósíthatóság megállapításához több adat szükséges.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="c2cb3-305">Egy erőforráscsoport kapacitása attól függ, hogy mely és hány erőforrás tagja az erőforráscsoportnak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="c2cb3-306">Egy erőforráscsoport önmagában nem rendelkezik kapacitással &mdash; kapacitása csak akkor lesz, ha vannak erőforrástagjai a csoportnak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="c2cb3-307">Mivel az erőforráscsoport-tagság idővel változhat, a kapacitást naponta kell értékelni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="c2cb3-308">Műveletütemezésekor az erőforráscsoport naptára az egyes műveletek kezdő és befejező időpontjának meghatározására szolgál.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="c2cb3-309">Ez azt jelenti, hogy az erőforráscsoport naptára korlátozni fogja, hogy egy adott napon egy művelethez egy erőforráscsoportban mennyi ideig lehet műveleteket ütemezni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="c2cb3-310">A megadott erőforrások naptárával szemben a naptár hatékonysági adatait az erőforráscsoport esetében a rendszer figyelmen kívül hagyja, mivel csak nyitási időt, és nem tényleges kapacitást jelöl meg.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="c2cb3-311">Ha például egy erőforráscsoport munkaideje egy adott napon 8:00 és 16:00 között van, akkor egy művelet nem terhelheti jobban az erőforráscsoportot, mint ami 8 órába belefér, függetlenül attól, hogy az erőforráscsoport az adott napon mennyi szabad összkapacitással rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="c2cb3-312">A rendelkezésre álló kapacitás azonban tovább korlátozhatja a terhelést.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="c2cb3-313">A feladatütemezésből adott napon az erőforráscsoport összes erőforrására háruló terhelést az erőforráscsoport azonos napi elérhető kapacitásának kiszámításánál figyelembe veszi a rendszer.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="c2cb3-314">Minden dátum esetén a számítás a következő:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-314">For each date, the calculation is:</span></span>

<span data-ttu-id="c2cb3-315">*Elérhető erőforráscsoport-kapacitás = a csoport erőforrásainak kapacitása a naptáruk alapján &ndash; a csoport erőforrásainak ütemezett munkaterhelése &ndash; a csoport erőforrásainak ütemezett műveleti terhelése &ndash; az erőforráscsoport ütemezett műveleti terhelése*</span><span class="sxs-lookup"><span data-stu-id="c2cb3-315">*Available resource group capacity = Capacity for resources in the group based on their calendar &ndash; Job scheduled load on the resources in the group &ndash; Operations scheduled load on the resources in the group &ndash; Operations scheduled load on the resource group*</span></span>

<span data-ttu-id="c2cb3-316">Az útvonal-művelet **Erőforrásigények** lapján az erőforrásigények egy adott erőforrás használatával (amely esetben a művelet ütemezése az adott erőforrás használatával történik), egy erőforráscsoport, egy erőforrástípus, illetve egy vagy több képesség, szakértelem, tanfolyam vagy tanúsítvány szerint adhatók meg.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-316">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="c2cb3-317">Bár az összes ilyen beállítás használatával nagy rugalmasság érhető el az útvonaltervezésben, ez a motor számára egyben az ütemezést is bonyolítja, mert a kapacitást a „tulajdonság” (a motorban a képességek, szakértelmek stb. esetében használt absztrakt név) alapján kell elszámolni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-317">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="c2cb3-318">Egy képesség esetén az erőforráscsoport kapacitása az erőforráscsoportban levő összes olyan erőforrás összkapacitása, amely rendelkezik a szóban forgó képességgel.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-318">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="c2cb3-319">Ha egy csoport erőforrásai rendelkeznek képességgel, akkor azt a rendszer figyelembe veszi, függetlenül attól, hogy milyen szintű kapacitás szükséges.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-319">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="c2cb3-320">Műveletütemezés során a rendszer csökkenti az erőforráscsoport számára egy bizonyos képességhez rendelkezésre álló kapacitást, ha a betöltése olyan művelettel történik, amelyhez a szóban forgó képesség szükséges.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-320">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="c2cb3-321">Ha a művelet egynél több képességet igényel, akkor a rendszer az összes szükséges képesség esetén csökkenti a kapacitást.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-321">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="c2cb3-322">Minden dátum esetén a szükséges számítás a következő:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-322">For each date, the required calculation is:</span></span>

<span data-ttu-id="c2cb3-323">*Egy képességhez rendelkezésre álló kapacitás = a képesség kapacitása &ndash; az illető képességgel rendelkező erőforrások ütemezett munkaterhelése, ideértve az erőforráscsoportot &ndash; az erőforráscsoportba tartozó, illető képességgel rendelkező erőforrások ütemezett műveleti terhelése &ndash; az erőforráscsoport ütemezett, az illető képességet igénylő műveleti terhelése*</span><span class="sxs-lookup"><span data-stu-id="c2cb3-323">*Available capacity for a capability = Capacity for the capability &ndash; Job scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resource group itself that require the specific capability*</span></span>

<span data-ttu-id="c2cb3-324">Ez azt jelenti, hogy ha egy adott erőforráson terhelés van, akkor a rendszer a terhelést figyelembe veszi az erőforráscsoport képességek szerinti elérhető kapacitásának kiszámításában, mert egy adott erőforrás terhelése csökkenti annak hozzájárulását az erőforráscsoport képesség szerinti kapacitásához, függetlenül attól, hogy az adott erőforrás terhelése az adott tulajdonságra vonatkozik-e.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-324">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="c2cb3-325">Ha az erőforráscsoport szintjén van terhelés, akkor a rendszer csak akkor veszi figyelembe az erőforráscsoport képesség szerinti rendelkezésre álló kapacitás kiszámításában, ha a terhelés olyan műveletből származik, amelyhez az adott képesség szükséges.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-325">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="c2cb3-326">A fenti logika bonyolult, mert minden „tulajdonság”-típus esetén ugyanaz, így a véges kapacitással történő műveletütemezés használata jelentős mennyiségű adatbetöltést igényel.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-326">The above logic is complicated, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="c2cb3-327">Ütemezési motor bemenetének és kimenetének megtekintése</span><span class="sxs-lookup"><span data-stu-id="c2cb3-327">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="c2cb3-328">Az ütemezési folyamat be- és kimenetének egyes részleteihez engedélyezze a naplózást a **Szervezeti adminisztráció \> Beállítás \> Ütemezés \> Ütemezés nyomkövetési vezérlőpult** menüútvonalon keresztül.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-328">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit**.</span></span>

<span data-ttu-id="c2cb3-329">Ezen az oldalon először a Művelet panelen válassza a **Naplózás engedélyezése** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-329">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="c2cb3-330">Majd futtassa az ütemezést a termelési rendeléshez.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-330">Then run the scheduling for the production order.</span></span> <span data-ttu-id="c2cb3-331">Ha elkészült, térjen vissza az **Ütemezés nyomkövetési vezérlőpult** oldalra, majd a Művelet panelen válassza **Naplózás letiltása** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-331">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="c2cb3-332">Frissítse az oldalt, és a rácsban egy új sor fog megjelenni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-332">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="c2cb3-333">Jelölje ki az új sort, majd a Művelet panelen válassza a **Letöltés** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-333">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="c2cb3-334">Ez egy .zip tömörített mappát eredményez, amely a következő fájlokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="c2cb3-334">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="c2cb3-335">**Log. txt** – ez a naplófájl, amely leírja a motor által végrehajtott lépéseket.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-335">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="c2cb3-336">Nagyon bonyolult, és kicsit terjengősnek is tűnhet, de a teljesítményproblémák megoldása érdekében végzett útvonal-beállítási kísérletek részeként felhasználva, elsőként a legelső és a legutolsó sor közötti időkülönbséget érdemes megfigyelni, mert ez adja meg az ütemezésre fordított pontos időt.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-336">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="c2cb3-337">**XmlModel.xml** – ez tartalmazza az X++ rendszerbe épített modellt, amelyen a motor működik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-337">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="c2cb3-338">A fájlban használt `JobId` korrelál a feladatokat (`ReqRouteJob` vagy `ProdRouteJob`) tartalmazó táblából származó `RecId` elemmel.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-338">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="c2cb3-339">Ebben a fájlban jellemzően azt kell keresni, hogy elvárások szerintiek-e a `ConstraintJobStartsAt` és a `ConstraintJobEndsAt` elemekben megadott dátumok, hogy megfelelő-e a `JobGoal` tulajdonság beállítása, illetve hogy a feladatok kapcsolódnak-e egymáshoz a `JobLink` megszorításokon keresztül.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-339">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="c2cb3-340">**XmlSlots.xml** – ez tartalmazza a motor által kért összes munkaidőt és kapacitásfoglalást.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-340">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="c2cb3-341">A naptári munkaidőket és a foglalásokat a motor csak azon időszakok esetében kéri, amikor megpróbálja elhelyezni a feladatokat (és még egy külön puffert), így ha a fájl nagyon távoli jövőbeli időpontokat tartalmaz, az beállítással kapcsolatos problémát jelezhet.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-341">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="c2cb3-342">A `ResourceProperty` csomópontok minden erőforrás esetén megjelenítik, hogy milyen időtartamra mely erőforráscsoporthoz és mely képességekhez van társítva.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-342">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="c2cb3-343">**Result.xml** – ez az ütemezés futtatásának eredményét tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-343">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="c2cb3-344">Vegye figyelembe, hogy a nyomkövetési funkció jelentős pluszteljesítményt adhat hozzá, ezért csak az adott rendelések ütemezésének vizsgálatára, ellenőrzés mellett használható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-344">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="c2cb3-345">Ha egy alaptervezés futtatásakor aktiválják, akkor gyorsan eléri a méretkorlátját, és leállhat.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-345">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="c2cb3-346">Teljesítmény-hibaelhárítás</span><span class="sxs-lookup"><span data-stu-id="c2cb3-346">Troubleshooting performance</span></span>

<span data-ttu-id="c2cb3-347">Amint az eddigi fejezetek alapján megérthető, az ütemezési motor beállítása és használata tartogat néhány buktatót, amik teljesítményproblémákhoz vezethetnek.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-347">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="c2cb3-348">Az ilyen problémák elhárításához a következő ellenőrző lista használható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-348">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="c2cb3-349">Fontos, hogy az összes pontot figyelembe kell venni, mivel leggyakrabban több tényező kombinációja vezet problémákhoz.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-349">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="c2cb3-350">Ütemezés az MRP részeként, amikor nem szükséges.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-350">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="c2cb3-351">Annak ellenére, hogy a termelésellenőrzési célokra (például költségszámításra és jelentésre) útvonalakat használnak, előfordulhat, hogy nem kell figyelembe venni azokat az MRP során.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-351">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="c2cb3-352">Bizonyos esetekben a tervezéshez elegendő a cikkhez megadott normál termelési átfutási idő.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-352">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="c2cb3-353">Az útvonal-ütemezés kikapcsolásához állítsa nullára a kapacitás időkorlátját.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-353">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="c2cb3-354">Ha ütemezést kell végezni, akkor a kapacitás időkorlátját gondosan be kell állítani, mert előfordulhat, hogy az MRP lefedettségi időkorlátjának teljes terjedelméhez nem szükséges útvonalakat figyelembe venni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-354">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="c2cb3-355">Ne feledje, hogy ha a rendelés ütemezése nem az MRP során történik, akkor helyette a tervezett rendelés megerősítésekor kell ütemezni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-355">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="c2cb3-356">Ez azt jelenti, hogy a megerősítési folyamat hosszabb időt vesz igénybe, tehát attól függően, hogy hány javasolt tervezett rendelés kap megerősítést, az MRP során jelentkező teljesítménytöbblet a megerősítéskor elveszhet.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-356">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="c2cb3-357">Útvonal felesleges műveletekkel</span><span class="sxs-lookup"><span data-stu-id="c2cb3-357">Route with unnecessary operations</span></span>

<span data-ttu-id="c2cb3-358">Az útvonal megtervezésekor csábítónak tűnik a valós világot pontosan a termelés által végrehajtott összes lépéssel modellezni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-358">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="c2cb3-359">Bár ez bizonyos esetekben hasznos lehet, a teljesítmény számára nem jó, mert a modell, amelyen a motornak működnie kell, nagyobb lesz (feladatok és megszorítások vonatkozásában egyaránt), és a feladatok és kapacitásfoglalások beszúrása és frissítése több SQL-utasítás végrehajtásával fog megvalósulni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-359">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="c2cb3-360">Ezenkívül a feladatoknál a folyamatban lévő állapotok jelentésének kötelezettségének hatása alsóbb szinteken is érvényesül, am automatikus feladásokkal mérsékelhető.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-360">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="c2cb3-361">Ha az adatokat nem használják fel semmihez, az felesleges terhelést okoz.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-361">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="c2cb3-362">Javasoljuk, hogy csak az ütemezéshez és/vagy a költségszámítási célokhoz feltétlenül szükséges műveleteket hozzon létre (amelyek általában a szűk keresztmetszetű erőforrások).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-362">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="c2cb3-363">Másik megoldásként a különböző műveletek egy nagyobb műveletbe csoportosíthatók, amely a folyamatnak egy nagyobb részét képviseli.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-363">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="c2cb3-364">Sok alkalmas erőforrás egy művelethez</span><span class="sxs-lookup"><span data-stu-id="c2cb3-364">Many applicable resources for an operation</span></span>

<span data-ttu-id="c2cb3-365">A művelethez alkalmazható erőforrások számát a műveleti kapcsolathoz megadott erőforrásigények határozzák meg.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-365">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="c2cb3-366">Az igény vonatkozhat egy meghatározott (egyéni) erőforrásra, vagy alapulhat egy erőforrás erőforráscsoport-tagságán vagy képességén is.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-366">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="c2cb3-367">Ha az ütemezés nem véges kapacitás használatával történik, és az összes alkalmazható erőforrás azonos naptárral és hatékonysággal rendelkezik, akkor az ütemezési motor egy művelethez mindig ugyanazt az erőforrást választja egy művelethez, de csak azután, hogy az összes alkalmas erőforrást megpróbálja ellenőrizni, hogy „jobb”-e a többinél.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-367">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="c2cb3-368">Ebben az esetben az ütemezési terhelés csupán azzal is jelentősen csökkenthető, ha a művelethez az útvonal-tervezési idő alatt mindig egy meghatározott erőforrást rendelnek hozzá.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-368">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="c2cb3-369">Párhuzamos műveletekkel rendelkező útvonal</span><span class="sxs-lookup"><span data-stu-id="c2cb3-369">Route with parallel operations</span></span>

<span data-ttu-id="c2cb3-370">Míg a párhuzamos (elsődleges/másodlagos) műveletek hatékony eszközt jelentenek olyan helyzetek modellezésénél, amelyekben egy adott feladat elvégzése gépet és kezelőt is igényel, a megközelítés számos teljesítménnyel kapcsolatos probléma forrása is.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-370">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="c2cb3-371">Ha egy meghatározott egyedi erőforráshoz tartozó igény az elsődleges és a másodlagos művelethez is hozzá van rendelve, akkor ez rendszerint nem jelent problémát.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-371">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="c2cb3-372">Ha viszont minden művelethez számos lehetséges erőforrás létezik, akkor ez az ütemezéshez jelentős számítási bonyolultságot ad.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-372">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="c2cb3-373">A párhuzamos műveletek alternatívájaként a párok „virtuális” erőforrásokként modellezhetők (amelyek ezután a csoportot a műveletekhez mindig összetartozóként képviselik), vagy egyszerűen mellőzhető a szűk keresztmetszetet nem képező műveletek valamelyikének modellezése.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-373">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="c2cb3-374">Egynél magasabb erőforrás-mennyiséggel rendelkező útvonal</span><span class="sxs-lookup"><span data-stu-id="c2cb3-374">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="c2cb3-375">Ha egy művelethez szükséges erőforrások mennyisége egynél magasabbra van beállítva, akkor az ténylegesen ugyanaz lesz, mint elsődleges/másodlagos műveletek használata esetén, mert a motorhoz több párhuzamos feladatot küldenek.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-375">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="c2cb3-376">Ebben az esetben azonban a program nem használ specifikus erőforrás-hozzárendeléseket, mert az egynél nagyobb mennyiség a művelethez egynél több erőforrás alkalmazhatóságát igényli.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-376">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="c2cb3-377">Véges kapacitás túlzott használata</span><span class="sxs-lookup"><span data-stu-id="c2cb3-377">Excessive use of finite capacity</span></span>

<span data-ttu-id="c2cb3-378">A véges kapacitás használatához a motornak be kell töltenie a kapacitás adatait egy adatbázisból, és számítási többlet léphet fel, mert nehezebb megoldást találni, különösen olyan környezetekben, ahol az erőforrások foglalása a maximális kapacitás közelében történik.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-378">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="c2cb3-379">Ennek eredményeképpen fontos, annak gondos mérlegelése, hogy az erőforrásoknak valóban véges kapacitásra van-e szüksége, vagy hogy túlfoglalhatók-e.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-379">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="c2cb3-380">Mivel a véges kapacitású erőforrások között különbség lehet abban, hogy túlfoglalásuk mellőzése mennyire fontos, az erőforrásra a szűk keresztmetszet használatát javasoljuk, külön értékkel kombinálva a terv „Szűk keresztmetszetű erőforrások kapacitási időkorlátja” című részében.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-380">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="c2cb3-381">A szűk keresztmetszet koncepció használata lehetővé teheti, hogy az általános véges kapacitás időkorlátja is csökkenthető legyen.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-381">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="c2cb3-382">Rögzített hivatkozások beállítása</span><span class="sxs-lookup"><span data-stu-id="c2cb3-382">Setting hard links</span></span>

<span data-ttu-id="c2cb3-383">Az útvonal normál hivatkozásának típusa *lágy* , ami azt jelenti, hogy az egyik művelet befejező ideje és a következő kezdete között időeltérés megengedett.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-383">The standard link type of the route is *soft* , which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="c2cb3-384">Ennek engedélyezése azzal a kellemetlen hatással járhat, hogy ha az egyik művelethez anyagok vagy kapacitások igen hosszú ideig nem állnak rendelkezésre, akkor a termelés hosszabb ideig tétlen lehet, ami a folyamatban lévő munka esetleges megnövekedését jelenti.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-384">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="c2cb3-385">Ez rögzített hivatkozásokkal nem fog megtörténni, mert a befejezésnek és a kezdésnek tökéletesen kell illeszkednie.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-385">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="c2cb3-386">A rögzített hivatkozások beállítása azonban fokozza az ütemezési nehézségeket, mert a műveletek két erőforrása esetében a munkaidő és a kapacitás metszéspontját kell kiszámítani.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-386">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="c2cb3-387">Ha párhuzamos műveletek is vannak, akkor ez jelentős számítási időt ad hozzá.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-387">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="c2cb3-388">Ha a két művelet erőforrásainak különböző naptárai vannak, amelyek egyáltalán nem fedik egymást, akkor a probléma megoldhatatlan.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-388">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="c2cb3-389">Javasoljuk, hogy rögzített hivatkozásokat csak feltétlenül szükséges esetben használja, és gondosan mérlegelje, hogy az útvonal minden műveletéhez szükségesek-e.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-389">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="c2cb3-390">A folyamatban lévő munka rögzített hivatkozások alkalmazása nélküli csökkentésére jó módszer lehet a rendelést kétszer történő ütemezése, a második menetnél ellenkező irányra váltva.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-390">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="c2cb3-391">Ha az első ütemezés a szállítási dátumtól visszafelé történik, akkor a másodikat az ütemezett kezdő dátumtól előrefelé kell elvégezni.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-391">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="c2cb3-392">Ennek hatására a feladatok tömörítése a lehető legnagyobb mértékű lesz, így a folyamatban lévő munka minimalizálható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-392">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="c2cb3-393">Külön naptár minden erőforráshoz</span><span class="sxs-lookup"><span data-stu-id="c2cb3-393">Separate calendar for each resource</span></span>

<span data-ttu-id="c2cb3-394">Az ütemezési motor egyik fő adatforrása a naptári információ, amelynek az adatbázisból történő betöltése költséges lehet.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-394">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="c2cb3-395">Mivel a naptárak létrehozása sablonok alapján történik, csábító gondolat lenne minden erőforráshoz külön naptárt létrehozni, majd módosítani a naptárban szereplő adatokat, ha az erőforrás leáll vagy egyéb problémái keletkeznek.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-395">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="c2cb3-396">Ez a művelet azonban súlyosan korlátozza a motor naptáradatokat gyorsítótárazó képességét, mert minden egyes erőforráshoz új adatokat kell kérnie, és ez a teljesítménnyel kapcsolatos problémák nagy forrása lehet.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-396">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="c2cb3-397">Ehelyett a naptáraknak az erőforrások közötti lehető legnagyobb mértékű újrahasznosítását, majd a leállási változásoknak egy másik naptár-azonosító adott időszakhoz hozzárendelésével történő szabályozását javasoljuk.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-397">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="c2cb3-398">Munkaidőhelyek magas száma naptári naponként</span><span class="sxs-lookup"><span data-stu-id="c2cb3-398">High number of working time slots per calendar day</span></span>

<span data-ttu-id="c2cb3-399">Mivel a motor az időhelyek kapacitásra történő egyenkénti vizsgálatával működik, a napi az időhelyek naptári naponkénti számának minimalizálása előnyt jelent.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-399">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="c2cb3-400">Ez például megvalósítható annak mérlegelésével, hogy fontos-e a létrejövő ütemezésnek tükröznie, hogy a dolgozók óránként 5 perc szünetet tartanak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-400">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="c2cb3-401">Nagy (vagy nincs) ütemezési időtúllépés</span><span class="sxs-lookup"><span data-stu-id="c2cb3-401">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="c2cb3-402">Az ütemezési motor teljesítménye az **Ütemezési paraméterek** oldalon található paraméterek használatával optimalizálható.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-402">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="c2cb3-403">Az **Ütemezési időtúllépés engedélyezve van** és az **Ütemezés-optimalizálási időtúllépés engedélyezve van** beállításokat mindig **Igen** értékre kell állítani.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-403">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes**.</span></span> <span data-ttu-id="c2cb3-404">Ha **Nem** értékre van állítva, akkor az ütemezés potenciálisan a végtelenségig futhat, ha egy számos beállítással rendelkező megvalósíthatatlan útvonalat hoztak létre.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-404">If set to **No** , the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="c2cb3-405">A **Maximális ütemezési idő sorozatonként** értéke határozza meg, hogy legfeljebb hány másodperc fordítható egy adott sorozathoz tartozó megoldás megkeresésére (a legtöbb esetben egy sorozat egyetlen rendelésnek felel meg).</span><span class="sxs-lookup"><span data-stu-id="c2cb3-405">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="c2cb3-406">Az itt használandó érték nagymértékben függ az útvonal és a beállítások, mint a véges kapacitás bonyolultságától, de 30 másodperc körüli maximális érték jó kiindulási pont.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-406">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="c2cb3-407">Az **Optimalizálási próbálkozások időtúllépése** határozza meg, hogy legfeljebb hány másodperc fordítható az eredetileg találtnál jobb megoldás keresésére.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-407">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="c2cb3-408">Ez csak azokat az útvonalakat befolyásolja, amelyek párhuzamos műveleteket alkalmaznak, mivel ezek különböző kombinációk tesztelését teszik szükségessé.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-408">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="c2cb3-409">Az időtúllépésekhez beállított értékek a kiadott termelési rendeléseknek és a tervezett rendeléseknek az MRP részeként történő ütemezésére egyaránt vonatkozni fognak.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-409">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="c2cb3-410">Ennek eredményeként, nagyon magas értékek beállítása, sok tervezett termelési rendelést tartalmazó tervre történő futtatás esetén jelentősen növeli az MRP futásidejét.</span><span class="sxs-lookup"><span data-stu-id="c2cb3-410">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>
